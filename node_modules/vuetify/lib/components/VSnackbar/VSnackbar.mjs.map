{"version":3,"file":"VSnackbar.mjs","names":["VDefaultsProvider","VOverlay","genOverlays","makeVariantProps","useVariant","makeLocationProps","useLocation","makePositionProps","usePosition","makeRoundedProps","useRounded","makeTransitionProps","useProxiedModel","useScopeId","forwardRefs","onMounted","ref","watch","genericComponent","useRender","VSnackbar","name","props","contentClass","type","String","default","multiLine","Boolean","timeout","Number","vertical","modelValue","location","transition","emits","v","setup","slots","isActive","locationStyles","positionClasses","scopeId","colorClasses","colorStyles","variantClasses","roundedClasses","overlay","startTimeout","value","activeTimeout","window","clearTimeout","setTimeout","onPointerenter","style","actions","VBtn","variant","ripple","activator"],"sources":["../../../src/components/VSnackbar/VSnackbar.tsx"],"sourcesContent":["// Styles\nimport './VSnackbar.sass'\n\n// Components\nimport { VDefaultsProvider } from '@/components/VDefaultsProvider'\nimport { VOverlay } from '@/components/VOverlay'\n\n// Composables\nimport { genOverlays, makeVariantProps, useVariant } from '@/composables/variant'\nimport { makeLocationProps, useLocation } from '@/composables/location'\nimport { makePositionProps, usePosition } from '@/composables/position'\nimport { makeRoundedProps, useRounded } from '@/composables/rounded'\nimport { makeTransitionProps } from '@/composables/transition'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useScopeId } from '@/composables/scopeId'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { onMounted, ref, watch } from 'vue'\nimport { genericComponent, useRender } from '@/util'\n\n// Types\nimport type { SlotsToProps } from '@/util'\n\nexport const VSnackbar = genericComponent<new () => {\n  $props: VOverlay['$props'] & SlotsToProps<{\n    activator: [{ isActive: boolean, props: Record<string, any> }]\n    default: []\n    actions: []\n  }>\n}>()({\n  name: 'VSnackbar',\n\n  props: {\n    contentClass: {\n      type: String,\n      default: '',\n    },\n    multiLine: Boolean,\n    timeout: {\n      type: [Number, String],\n      default: 5000,\n    },\n    vertical: Boolean,\n\n    modelValue: Boolean,\n\n    ...makeLocationProps({ location: 'bottom' } as const),\n    ...makePositionProps(),\n    ...makeRoundedProps(),\n    ...makeVariantProps(),\n    ...makeTransitionProps({ transition: 'v-snackbar-transition' }),\n  },\n\n  emits: {\n    'update:modelValue': (v: boolean) => true,\n  },\n\n  setup (props, { slots }) {\n    const isActive = useProxiedModel(props, 'modelValue')\n    const { locationStyles } = useLocation(props)\n    const { positionClasses } = usePosition(props)\n    const { scopeId } = useScopeId()\n\n    const { colorClasses, colorStyles, variantClasses } = useVariant(props)\n    const { roundedClasses } = useRounded(props)\n\n    const overlay = ref<VOverlay>()\n\n    watch(isActive, startTimeout)\n    watch(() => props.timeout, startTimeout)\n\n    onMounted(() => {\n      if (isActive.value) startTimeout()\n    })\n\n    let activeTimeout = -1\n    function startTimeout () {\n      window.clearTimeout(activeTimeout)\n      const timeout = Number(props.timeout)\n\n      if (!isActive.value || timeout === -1) return\n\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false\n      }, timeout)\n    }\n\n    function onPointerenter () {\n      window.clearTimeout(activeTimeout)\n    }\n\n    useRender(() => (\n      <VOverlay\n        v-model={ isActive.value }\n        ref={ overlay }\n        class={[\n          'v-snackbar',\n          {\n            'v-snackbar--active': isActive.value,\n            'v-snackbar--multi-line': props.multiLine && !props.vertical,\n            'v-snackbar--vertical': props.vertical,\n          },\n          positionClasses.value,\n        ]}\n        contentProps={{\n          style: locationStyles.value,\n        }}\n        contentClass={ props.contentClass }\n        persistent\n        noClickAnimation\n        scrim={ false }\n        scrollStrategy=\"none\"\n        transition={ props.transition }\n        { ...scopeId }\n        v-slots={{ activator: slots.activator }}\n      >\n        <div\n          class={[\n            'v-snackbar__wrapper',\n            colorClasses.value,\n            roundedClasses.value,\n            variantClasses.value,\n          ]}\n          style={[colorStyles.value]}\n          onPointerenter={ onPointerenter }\n          onPointerleave={ startTimeout }\n        >\n          { genOverlays(false, 'v-snackbar') }\n\n          { slots.default && (\n            <div\n              class=\"v-snackbar__content\"\n              role=\"status\"\n              aria-live=\"polite\"\n            >\n              { slots.default() }\n            </div>\n          ) }\n\n          { slots.actions && (\n            <VDefaultsProvider\n              defaults={{\n                VBtn: {\n                  variant: 'text',\n                  ripple: false,\n                },\n              }}\n            >\n              <div class=\"v-snackbar__actions\">\n                { slots.actions() }\n              </div>\n            </VDefaultsProvider>\n          ) }\n        </div>\n      </VOverlay>\n    ))\n\n    return forwardRefs({}, overlay)\n  },\n})\n\nexport type VSnackbar = InstanceType<typeof VSnackbar>\n"],"mappings":";AAAA;AACA;;AAEA;AAAA,SACSA,iBAAiB;AAAA,SACjBC,QAAQ,iCAEjB;AAAA,SACSC,WAAW,EAAEC,gBAAgB,EAAEC,UAAU;AAAA,SACzCC,iBAAiB,EAAEC,WAAW;AAAA,SAC9BC,iBAAiB,EAAEC,WAAW;AAAA,SAC9BC,gBAAgB,EAAEC,UAAU;AAAA,SAC5BC,mBAAmB;AAAA,SACnBC,eAAe;AAAA,SACfC,UAAU;AAAA,SACVC,WAAW,6CAEpB;AACA,SAASC,SAAS,EAAEC,GAAG,EAAEC,KAAK,QAAQ,KAAK;AAAA,SAClCC,gBAAgB,EAAEC,SAAS,gCAEpC;AAGA,OAAO,MAAMC,SAAS,GAAGF,gBAAgB,EAMrC,CAAC;EACHG,IAAI,EAAE,WAAW;EAEjBC,KAAK,EAAE;IACLC,YAAY,EAAE;MACZC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,SAAS,EAAEC,OAAO;IAClBC,OAAO,EAAE;MACPL,IAAI,EAAE,CAACM,MAAM,EAAEL,MAAM,CAAC;MACtBC,OAAO,EAAE;IACX,CAAC;IACDK,QAAQ,EAAEH,OAAO;IAEjBI,UAAU,EAAEJ,OAAO;IAEnB,GAAGvB,iBAAiB,CAAC;MAAE4B,QAAQ,EAAE;IAAS,CAAC,CAAU;IACrD,GAAG1B,iBAAiB,EAAE;IACtB,GAAGE,gBAAgB,EAAE;IACrB,GAAGN,gBAAgB,EAAE;IACrB,GAAGQ,mBAAmB,CAAC;MAAEuB,UAAU,EAAE;IAAwB,CAAC;EAChE,CAAC;EAEDC,KAAK,EAAE;IACL,mBAAmB,EAAGC,CAAU,IAAK;EACvC,CAAC;EAEDC,KAAK,CAAEf,KAAK,QAAa;IAAA,IAAX;MAAEgB;IAAM,CAAC;IACrB,MAAMC,QAAQ,GAAG3B,eAAe,CAACU,KAAK,EAAE,YAAY,CAAC;IACrD,MAAM;MAAEkB;IAAe,CAAC,GAAGlC,WAAW,CAACgB,KAAK,CAAC;IAC7C,MAAM;MAAEmB;IAAgB,CAAC,GAAGjC,WAAW,CAACc,KAAK,CAAC;IAC9C,MAAM;MAAEoB;IAAQ,CAAC,GAAG7B,UAAU,EAAE;IAEhC,MAAM;MAAE8B,YAAY;MAAEC,WAAW;MAAEC;IAAe,CAAC,GAAGzC,UAAU,CAACkB,KAAK,CAAC;IACvE,MAAM;MAAEwB;IAAe,CAAC,GAAGpC,UAAU,CAACY,KAAK,CAAC;IAE5C,MAAMyB,OAAO,GAAG/B,GAAG,EAAY;IAE/BC,KAAK,CAACsB,QAAQ,EAAES,YAAY,CAAC;IAC7B/B,KAAK,CAAC,MAAMK,KAAK,CAACO,OAAO,EAAEmB,YAAY,CAAC;IAExCjC,SAAS,CAAC,MAAM;MACd,IAAIwB,QAAQ,CAACU,KAAK,EAAED,YAAY,EAAE;IACpC,CAAC,CAAC;IAEF,IAAIE,aAAa,GAAG,CAAC,CAAC;IACtB,SAASF,YAAY,GAAI;MACvBG,MAAM,CAACC,YAAY,CAACF,aAAa,CAAC;MAClC,MAAMrB,OAAO,GAAGC,MAAM,CAACR,KAAK,CAACO,OAAO,CAAC;MAErC,IAAI,CAACU,QAAQ,CAACU,KAAK,IAAIpB,OAAO,KAAK,CAAC,CAAC,EAAE;MAEvCqB,aAAa,GAAGC,MAAM,CAACE,UAAU,CAAC,MAAM;QACtCd,QAAQ,CAACU,KAAK,GAAG,KAAK;MACxB,CAAC,EAAEpB,OAAO,CAAC;IACb;IAEA,SAASyB,cAAc,GAAI;MACzBH,MAAM,CAACC,YAAY,CAACF,aAAa,CAAC;IACpC;IAEA/B,SAAS,CAAC;MAAA,cAEIoB,QAAQ,CAACU,KAAK;MAAA,iCAAdV,QAAQ,CAACU,KAAK;MAAA,OAClBF,OAAO;MAAA,SACN,CACL,YAAY,EACZ;QACE,oBAAoB,EAAER,QAAQ,CAACU,KAAK;QACpC,wBAAwB,EAAE3B,KAAK,CAACK,SAAS,IAAI,CAACL,KAAK,CAACS,QAAQ;QAC5D,sBAAsB,EAAET,KAAK,CAACS;MAChC,CAAC,EACDU,eAAe,CAACQ,KAAK,CACtB;MAAA,gBACa;QACZM,KAAK,EAAEf,cAAc,CAACS;MACxB,CAAC;MAAA,gBACc3B,KAAK,CAACC,YAAY;MAAA;MAAA;MAAA,SAGzB,KAAK;MAAA,kBACE,MAAM;MAAA,cACRD,KAAK,CAACY;IAAU,GACxBQ,OAAO;MAAA;QAAA,SAIH,CACL,qBAAqB,EACrBC,YAAY,CAACM,KAAK,EAClBH,cAAc,CAACG,KAAK,EACpBJ,cAAc,CAACI,KAAK,CACrB;QAAA,SACM,CAACL,WAAW,CAACK,KAAK,CAAC;QAAA,kBACTK,cAAc;QAAA,kBACdN;MAAY,IAE3B9C,WAAW,CAAC,KAAK,EAAE,YAAY,CAAC,EAEhCoC,KAAK,CAACZ,OAAO;QAAA,SAEL,qBAAqB;QAAA,QACtB,QAAQ;QAAA,aACH;MAAQ,IAEhBY,KAAK,CAACZ,OAAO,EAAE,EAEpB,EAECY,KAAK,CAACkB,OAAO;QAAA,YAED;UACRC,IAAI,EAAE;YACJC,OAAO,EAAE,MAAM;YACfC,MAAM,EAAE;UACV;QACF;MAAC;QAAA;UAAA,SAEU;QAAqB,IAC5BrB,KAAK,CAACkB,OAAO,EAAE;MAAA,EAGtB;MAtCQI,SAAS,EAAEtB,KAAK,CAACsB;IAAS,EAyCxC,CAAC;IAEF,OAAO9C,WAAW,CAAC,CAAC,CAAC,EAAEiC,OAAO,CAAC;EACjC;AACF,CAAC,CAAC"}