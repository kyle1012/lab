{"ast":null,"code":"import { h } from 'preact';\nimport copyToClipboard from '../../../utils/copyToClipboard.js';\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, h(\"g\", {\n      fillRule: \"evenodd\"\n    }, h(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), h(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), h(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n  return null;\n}\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, h(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {\n    props.uppy.log('Link copied to clipboard.');\n    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n  }).catch(props.uppy.log) // avoid losing focus\n  .then(() => event.target.focus({\n    preventScroll: true\n  }));\n};\nfunction CopyLinkButton(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event, props)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, h(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\nexport default function Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, h(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? h(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? h(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    uppy: uppy,\n    onClick: () => props.uppy.removeFile(file.id, 'removed-by-user')\n  }) : null);\n}","map":{"version":3,"names":["h","copyToClipboard","EditButton","_ref","file","uploadInProgressOrComplete","metaFields","canEditFile","i18n","onClick","length","className","type","meta","name","title","focusable","width","height","viewBox","fillRule","d","x","y","rx","RemoveButton","_ref2","fill","copyLinkToClipboard","event","props","uploadURL","then","uppy","log","info","catch","target","focus","preventScroll","CopyLinkButton","Buttons","showLinkToFileUploadResult","showRemoveButton","toggleFileCard","openFileEditor","editAction","id","removeFile"],"sources":["/lab/node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js"],"sourcesContent":["import { h } from 'preact';\nimport copyToClipboard from '../../../utils/copyToClipboard.js';\n\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, h(\"g\", {\n      fillRule: \"evenodd\"\n    }, h(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), h(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), h(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n\n  return null;\n}\n\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, h(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\n\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {\n    props.uppy.log('Link copied to clipboard.');\n    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n  }).catch(props.uppy.log) // avoid losing focus\n  .then(() => event.target.focus({\n    preventScroll: true\n  }));\n};\n\nfunction CopyLinkButton(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event, props)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, h(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\n\nexport default function Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, h(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? h(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? h(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    uppy: uppy,\n    onClick: () => props.uppy.removeFile(file.id, 'removed-by-user')\n  }) : null);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}