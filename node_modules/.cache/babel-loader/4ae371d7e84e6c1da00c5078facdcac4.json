{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nimport classNames from 'classnames';\nimport { h } from 'preact';\nimport FileItem from \"./FileItem/index.js\";\nimport VirtualList from \"./VirtualList.js\";\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\nexport default (props => {\n  const noFiles = props.totalFileCount === 0;\n  const dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  const rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  const fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    uppy: props.uppy,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n  const sortByGhostComesFirst = (file1, file2) => {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n  const files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  const rows = chunks(files, props.itemsPerRow);\n  const renderRow = row =>\n  // The `role=\"presentation` attribute ensures that the list items are properly\n  // associated with the `VirtualList` element.\n  // We use the first file ID as the key—this should not change across scroll rerenders\n  h(\"div\", {\n    role: \"presentation\",\n    key: row[0]\n  }, row.map(fileID => h(FileItem, _extends({\n    key: fileID,\n    uppy: props.uppy\n  }, fileProps, {\n    // eslint-disable-line react/jsx-props-no-spreading\n    role: \"listitem\",\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    file: props.files[fileID]\n  }))));\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n});","map":{"version":3,"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","classNames","h","FileItem","VirtualList","chunks","list","size","chunked","currentChunk","forEach","item","push","props","noFiles","totalFileCount","dashboardFilesClass","rowHeight","itemsPerRow","fileProps","id","error","i18n","uppy","acquirers","resumableUploads","individualCancellation","hideRetryButton","hidePauseResumeButton","hideCancelButton","showLinkToFileUploadResult","showRemoveButtonAfterComplete","isWide","metaFields","recoveredState","toggleFileCard","handleRequestThumbnail","handleCancelThumbnail","sortByGhostComesFirst","file1","file2","files","isGhost","keys","sort","rows","renderRow","row","role","map","fileID","openFileEditor","canEditFile","toggleAddFilesPanel","file","class","data"],"sources":["/lab/node_modules/@uppy/dashboard/lib/components/FileList.js"],"sourcesContent":["function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport classNames from 'classnames';\nimport { h } from 'preact';\nimport FileItem from \"./FileItem/index.js\";\nimport VirtualList from \"./VirtualList.js\";\n\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nexport default (props => {\n  const noFiles = props.totalFileCount === 0;\n  const dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  const rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  const fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    uppy: props.uppy,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  const sortByGhostComesFirst = (file1, file2) => {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  const files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  const rows = chunks(files, props.itemsPerRow);\n\n  const renderRow = row => // The `role=\"presentation` attribute ensures that the list items are properly\n  // associated with the `VirtualList` element.\n  // We use the first file ID as the key—this should not change across scroll rerenders\n  h(\"div\", {\n    role: \"presentation\",\n    key: row[0]\n  }, row.map(fileID => h(FileItem, _extends({\n    key: fileID,\n    uppy: props.uppy\n  }, fileProps, {\n    // eslint-disable-line react/jsx-props-no-spreading\n    role: \"listitem\",\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    file: props.files[fileID]\n  }))));\n\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}