{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Dashboard } from \"@uppy/vue\";\nimport \"@uppy/core/dist/style.css\";\nimport Uppy from \"@uppy/core\";\nimport XHRUpload from \"@uppy/xhr-upload\";\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/dashboard/dist/style.css\";\nimport App from \"../App.vue\";\nimport axios from 'axios';\nimport Home from \"./Home.vue\";\nexport default {\n  name: 'Hello',\n  components: {\n    Dashboard,\n    App,\n    Home\n  },\n  data: () => {\n    return {\n      why: '',\n      dep: '',\n      num: '',\n      peo: '',\n      whyy: '',\n      period: '',\n      policy: '',\n      gubun: '생성',\n      firewall: '본사 방화벽',\n      radioValue1: '생성',\n      radioValue2: '변경',\n      radioValue3: '삭제',\n      radioValue4: '본사 방화벽',\n      radioValue5: 'HIP 방화벽',\n      radioValue6: 'Cloud 방화벽',\n      radioValue7: 'IDC 방화벽',\n      time: '',\n      title: '',\n      file_path: '',\n      pdf_file: '',\n      file_name: ''\n    };\n  },\n  methods: {\n    upload() {\n      let self = this;\n      var conf = confirm(\"기안구분 : \" + this.gubun + \"\\n\" + \"대상 : \" + this.firewall + \"\\n\" + \"담당자 : \" + this.peo + \"\\n\" + \"부서 : \" + this.dep + \"\\n\" + \"기간 : \" + this.period + \"\\n\" + \"방화벽정책 : \" + this.policy + \"\\n\" + \"요청사유 : \" + this.whyy + \"\\n\" + \"기안번호 : \" + this.num);\n      if (!conf) e.preventDefault();\n      const url = 'http://10.1.30.202:5000/firewall_insert';\n      const data = JSON.stringify({\n        db_form: this.gubun,\n        db_firewall: this.firewall,\n        db_user: this.peo,\n        db_dep: this.dep,\n        db_period: this.period,\n        db_policy: this.policy,\n        db_why: this.whyy,\n        db_doc: this.num,\n        db_time: this.time,\n        db_title: this.title,\n        db_file_path: this.file_path,\n        db_manager: this.$store.state.userId\n      });\n      axios.post(url, data, {\n        headers: {\n          \"Content-Type\": `application/json`\n        }\n      }).then(function (response) {\n        console.log(response);\n        alert(response.data);\n        self.$router.push('home');\n      }).catch(function (error) {\n        console.log(error);\n        alert(error.response.data);\n      });\n    }\n  },\n  computed: {\n    uppy() {\n      return new Uppy().use(XHRUpload, {\n        endpoint: \"http://10.1.30.202:5000/firewall_upload\",\n        fieldName: \"file\",\n        bundle: true,\n        autoProceed: false\n      }).on('upload-success', (file, response) => {\n        console.log(file.name, response);\n        const doc = response.body;\n        this.dep = doc.dep;\n        this.peo = doc.peo;\n        this.period = doc.period;\n        this.policy = doc.policy;\n        this.whyy = doc.why;\n        this.doc = doc.doc;\n        this.time = doc.time;\n        this.title = doc.title;\n        this.file_path = doc.file_path;\n        this.file_name = doc.file_name;\n        this.pdf_file = '/FIREWALL_Doc/' + this.file_name;\n      });\n    }\n  },\n  beforeDestroy() {\n    this.uppy.close({\n      reason: 'unmount'\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["Dashboard","Uppy","XHRUpload","App","axios","Home","name","components","data","why","dep","num","peo","whyy","period","policy","gubun","firewall","radioValue1","radioValue2","radioValue3","radioValue4","radioValue5","radioValue6","radioValue7","time","title","file_path","pdf_file","file_name","methods","upload","self","conf","confirm","e","preventDefault","url","JSON","stringify","db_form","db_firewall","db_user","db_dep","db_period","db_policy","db_why","db_doc","db_time","db_title","db_file_path","db_manager","$store","state","userId","post","headers","then","response","console","log","alert","$router","push","catch","error","computed","uppy","use","endpoint","fieldName","bundle","autoProceed","on","file","doc","body","beforeDestroy","close","reason"],"sourceRoot":"","sources":["/lab/src/components/firewalldoc.vue"],"sourcesContent":["<template>\n          <v-app>\n<v-app-bar\n      color=\"deep-purple\"\n      elevation=\"4\"\n      dark>\n<v-app-bar-nav-icon @click=\"drawer = true\"></v-app-bar-nav-icon>\n  <v-toolbar-title><router-link to=\"/home\" style=\"text-decoration:none\">LAB V.1.0</router-link></v-toolbar-title>\n  <v-spacer></v-spacer><v-spacer></v-spacer><v-spacer></v-spacer>\n  <v-spacer></v-spacer><v-spacer></v-spacer>\n  <strong><h2>IP신청서</h2></strong>\n <v-spacer></v-spacer>\n  <v-spacer></v-spacer><v-spacer></v-spacer><v-spacer></v-spacer><v-spacer></v-spacer><v-spacer></v-spacer>\n        {{ this.$store.getters.getUserInfo }}\n    </v-app-bar>\n    <v-navigation-drawer\n      v-model=\"drawer\"\n      absolute\n      temporary\n    >\n    <v-list\n        nav\n        dense\n      >\n        <v-list-item>\n          <v-list-item-title><router-link to=\"/upload\" style=\"text-decoration:none\">IP신청서</router-link></v-list-item-title>\n        </v-list-item>\n        <v-list-item>\n          <v-list-item-title><router-link to=\"/upload_internet\" style=\"text-decoration:none\">인터넷차단해제신청서</router-link></v-list-item-title>\n        </v-list-item>\n        <v-list-item>\n          <v-list-item-title><router-link to=\"/upload_firewall\" style=\"text-decoration:none\">방화벽정책신청서</router-link></v-list-item-title>\n        </v-list-item>\n        <v-list-item>\n          <v-list-item-title><router-link to=\"/upload_vpn\" style=\"text-decoration:none\">계정신청서</router-link></v-list-item-title>\n        </v-list-item>\n      </v-list>\n    </v-navigation-drawer>\n      <v-container grid-list-xl>\n      <v-layout\n        wrap\n        justify-space-between\n      >\n      <v-col cols=\"3\" class=\"border_style\">\n      <Dashboard\n        ref=\"dash\"\n        :uppy=\"uppy\"\n      /></v-col>\n      <v-col cols=\"5\" class=\"border_style\"> <iframe v-bind:src=\"pdf_file\" style=\"width:700px; height:800px;\" frameborder=\"0\"></iframe></v-col>\n      <v-col cols=\"4\" class=\"border_style\">\n      <div>\n        <div>기안구분 :\n          <label><input type=\"radio\" v-bind:value=\"radioValue1\" v-model=\"gubun\" />생성</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue2\" v-model=\"gubun\" />변경</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue3\" v-model=\"gubun\" />삭제</label>\n        </div>\n        <div>대상 :\n          <label><input type=\"radio\" v-bind:value=\"radioValue4\" v-model=\"firewall\" />본사 방화벽</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue5\" v-model=\"firewall\" />HIP 방화벽</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue6\" v-model=\"firewall\" />Cloud 방화벽</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue7\" v-model=\"firewall\" />IDC 방화벽</label>\n        </div>\n        <v-text-field label=\"담당자\" dense name=\"peo\" v-model=\"peo\"/>\n        <v-text-field label=\"부서\" dense name=\"dep\" v-model=\"dep\"/>\n        <v-text-field label=\"기간\" dense name=\"period\" v-model=\"period\"/>\n        <v-textarea label=\"방화벽 정책\" rows=\"3\" dense name=\"policy\" v-model=\"policy\"/>\n        <v-textarea label=\"요청사유\" name=\"whyy\" rows=\"3\" v-model=\"whyy\"/>\n        <v-text-field label=\"기안번호\" name=\"num\" dense v-model=\"num\"/>\n      <v-btn color=\"success\" @click=\"upload()\">업로드</v-btn>\n      </div>\n      </v-col>\n      </v-layout>\n      </v-container>\n      </v-app>\n  </template>\n  <script>\n  import { Dashboard } from \"@uppy/vue\";\n  import \"@uppy/core/dist/style.css\";\n  import Uppy from \"@uppy/core\";\n  import XHRUpload from \"@uppy/xhr-upload\";\n  import \"@uppy/core/dist/style.css\";\n  import \"@uppy/dashboard/dist/style.css\";\n  import App from \"../App.vue\"\n  import axios from 'axios';\n  import Home from \"./Home.vue\"\n  \n  \n  export default{\n    name: 'Hello',\n    components: {\n      Dashboard,\n      App,\n      Home,\n    },\n    \n    data: () => {\n      return {\n        why : '',\n        dep: '',\n        num:'',\n        peo:'',\n        whyy:'',\n        period:'',\n        policy:'',\n        gubun:'생성',\n        firewall:'본사 방화벽',\n        radioValue1:'생성',\n        radioValue2:'변경',\n        radioValue3:'삭제',\n        radioValue4:'본사 방화벽',\n        radioValue5:'HIP 방화벽',\n        radioValue6:'Cloud 방화벽',\n        radioValue7:'IDC 방화벽',\n        time:'',\n        title:'',\n        file_path:'',\n        pdf_file:'',\n        file_name:'',\n      };\n    },\n    methods: {\n      upload(){\n      let self = this\n      var conf = confirm(\n               \"기안구분 : \" + this.gubun + \"\\n\"\n              +\"대상 : \" + this.firewall + \"\\n\"\n              +\"담당자 : \" + this.peo + \"\\n\"\n              +\"부서 : \" + this.dep + \"\\n\"\n              +\"기간 : \" + this.period + \"\\n\"\n              +\"방화벽정책 : \" + this.policy + \"\\n\"\n              +\"요청사유 : \" + this.whyy + \"\\n\"\n              +\"기안번호 : \" + this.num)\n        if(!conf) e.preventDefault();\n        const url = 'http://10.1.30.202:5000/firewall_insert';\n        const data = JSON.stringify({\n          db_form:this.gubun,\n          db_firewall:this.firewall,\n          db_user:this.peo,\n          db_dep:this.dep,\n          db_period:this.period,\n          db_policy:this.policy,\n          db_why:this.whyy,\n          db_doc:this.num,\n          db_time:this.time,\n          db_title:this.title,\n          db_file_path:this.file_path,\n          db_manager:this.$store.state.userId,\n        })\n        axios.post(url, data, {\n          headers: {\n              \"Content-Type\": `application/json`,\n            },\n        })\n        .then(function(response) {\n            console.log(response)\n            alert(response.data)\n            self.$router.push('home')\n          })\n          .catch(function(error) {\n            console.log(error);\n            alert(error.response.data)\n          });\n      }\n    },\n    computed: {\n      uppy(){\n        return new Uppy()\n  \n      .use(XHRUpload, {\n        endpoint: \"http://10.1.30.202:5000/firewall_upload\",\n        fieldName: \"file\",\n        bundle: true,\n        autoProceed: false,\n        })\n  \n      .on('upload-success', (file, response) => {\n      console.log(file.name, response)\n      const doc = response.body\n      this.dep = doc.dep\n      this.peo = doc.peo\n      this.period = doc.period\n      this.policy = doc.policy\n      this.whyy = doc.why\n      this.doc = doc.doc\n      this.time = doc.time\n      this.title = doc.title\n      this.file_path = doc.file_path\n      this.file_name = doc.file_name\n      this.pdf_file = '/FIREWALL_Doc/' + this.file_name\n  })\n      },\n    },\n    beforeDestroy () {\n      this.uppy.close({ reason: 'unmount' })\n    }\n  }\n  </script>"]},"metadata":{},"sourceType":"module"}