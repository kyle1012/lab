{"ast":null,"code":"/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\nexport default function copyToClipboard(textToCopy, fallbackString) {\n  if (fallbackString === void 0) {\n    fallbackString = 'Copy the URL below';\n  }\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea); // eslint-disable-next-line no-alert\n\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n    try {\n      const successful = document.execCommand('copy');\n      if (!successful) {\n        return magicCopyFailed('copy command unavailable');\n      }\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed(err);\n    }\n  });\n}","map":{"version":3,"names":["copyToClipboard","textToCopy","fallbackString","Promise","resolve","textArea","document","createElement","setAttribute","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","select","magicCopyFailed","removeChild","window","prompt","successful","execCommand","err"],"sources":["/lab/node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js"],"sourcesContent":["/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\nexport default function copyToClipboard(textToCopy, fallbackString) {\n  if (fallbackString === void 0) {\n    fallbackString = 'Copy the URL below';\n  }\n\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea); // eslint-disable-next-line no-alert\n\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n\n    try {\n      const successful = document.execCommand('copy');\n\n      if (!successful) {\n        return magicCopyFailed('copy command unavailable');\n      }\n\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed(err);\n    }\n  });\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASA,eAAe,CAACC,UAAU,EAAEC,cAAc,EAAE;EAClE,IAAIA,cAAc,KAAK,KAAK,CAAC,EAAE;IAC7BA,cAAc,GAAG,oBAAoB;EACvC;EAEA,OAAO,IAAIC,OAAO,CAACC,OAAO,IAAI;IAC5B,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;IACnDF,QAAQ,CAACG,YAAY,CAAC,OAAO,EAAE;MAC7BC,QAAQ,EAAE,OAAO;MACjBC,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAE,KAAK;MACZC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE,CAAC;MACVC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE,MAAM;MACfC,SAAS,EAAE,MAAM;MACjBC,UAAU,EAAE;IACd,CAAC,CAAC;IACFb,QAAQ,CAACc,KAAK,GAAGlB,UAAU;IAC3BK,QAAQ,CAACc,IAAI,CAACC,WAAW,CAAChB,QAAQ,CAAC;IACnCA,QAAQ,CAACiB,MAAM,EAAE;IAEjB,MAAMC,eAAe,GAAG,MAAM;MAC5BjB,QAAQ,CAACc,IAAI,CAACI,WAAW,CAACnB,QAAQ,CAAC,CAAC,CAAC;;MAErCoB,MAAM,CAACC,MAAM,CAACxB,cAAc,EAAED,UAAU,CAAC;MACzCG,OAAO,EAAE;IACX,CAAC;IAED,IAAI;MACF,MAAMuB,UAAU,GAAGrB,QAAQ,CAACsB,WAAW,CAAC,MAAM,CAAC;MAE/C,IAAI,CAACD,UAAU,EAAE;QACf,OAAOJ,eAAe,CAAC,0BAA0B,CAAC;MACpD;MAEAjB,QAAQ,CAACc,IAAI,CAACI,WAAW,CAACnB,QAAQ,CAAC;MACnC,OAAOD,OAAO,EAAE;IAClB,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACZvB,QAAQ,CAACc,IAAI,CAACI,WAAW,CAACnB,QAAQ,CAAC;MACnC,OAAOkB,eAAe,CAACM,GAAG,CAAC;IAC7B;EACF,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module"}