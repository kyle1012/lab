{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Dashboard } from \"@uppy/vue\";\nimport \"@uppy/core/dist/style.css\";\nimport Uppy from \"@uppy/core\";\nimport XHRUpload from \"@uppy/xhr-upload\";\nimport \"@uppy/core/dist/style.css\";\nimport \"@uppy/dashboard/dist/style.css\";\nimport App from \"../App.vue\";\nimport axios from 'axios';\nimport Home from \"./Home.vue\";\nexport default {\n  name: 'Hello',\n  components: {\n    Dashboard,\n    App,\n    Home\n  },\n  data: () => {\n    return {\n      why: '',\n      dep: '',\n      num: '',\n      peo: '',\n      whyy: '',\n      period: '',\n      policy: '',\n      gubun: '생성',\n      radioValue1: '생성',\n      radioValue2: '변경',\n      radioValue3: '삭제',\n      accept: '',\n      time: '',\n      title: '',\n      file_path: '',\n      pdf_file: '',\n      file_name: ''\n    };\n  },\n  methods: {\n    upload() {\n      let self = this;\n      var conf = confirm(\"기안구분 : \" + this.gubun + \"\\n\" + \"접근대상 : \" + this.accept + \"\\n\" + \"담당자 : \" + this.peo + \"\\n\" + \"부서 : \" + this.dep + \"\\n\" + \"기간 : \" + this.period + \"\\n\" + \"요청사유 : \" + this.whyy + \"\\n\" + \"기안번호 : \" + this.num);\n      if (!conf) e.preventDefault();\n      const url = 'http://10.1.30.202:5000/account_insert';\n      const data = JSON.stringify({\n        db_form: this.gubun,\n        db_firewall: this.accept,\n        db_user: this.peo,\n        db_dep: this.dep,\n        db_period: this.period,\n        db_why: this.whyy,\n        db_doc: this.num,\n        db_time: this.time,\n        db_title: this.title,\n        db_file_path: this.file_path,\n        db_manager: this.$store.state.userId\n      });\n      axios.post(url, data, {\n        headers: {\n          \"Content-Type\": `application/json`\n        }\n      }).then(function (response) {\n        console.log(response);\n        alert(response.data);\n        self.$router.push('home');\n      }).catch(function (error) {\n        console.log(error);\n        alert(error.response.data);\n      });\n    }\n  },\n  computed: {\n    uppy() {\n      return new Uppy().use(XHRUpload, {\n        endpoint: \"http://10.1.30.202:5000/account_upload\",\n        fieldName: \"file\",\n        bundle: true,\n        autoProceed: false\n      }).on('upload-success', (file, response) => {\n        console.log(file.name, response);\n        const doc = response.body;\n        this.dep = doc.dep;\n        this.peo = doc.peo;\n        this.period = doc.period;\n        this.policy = doc.policy;\n        this.whyy = doc.why;\n        this.doc = doc.doc;\n        this.time = doc.time;\n        this.title = doc.title;\n        this.file_path = doc.file_path;\n        this.file_name = doc.file_name;\n        this.pdf_file = '/ACCOUNT_Doc/' + this.file_name;\n      });\n    }\n  },\n  beforeDestroy() {\n    this.uppy.close({\n      reason: 'unmount'\n    });\n  }\n};","map":{"version":3,"mappings":"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","names":["Dashboard","Uppy","XHRUpload","App","axios","Home","name","components","data","why","dep","num","peo","whyy","period","policy","gubun","radioValue1","radioValue2","radioValue3","accept","time","title","file_path","pdf_file","file_name","methods","upload","self","conf","confirm","e","preventDefault","url","JSON","stringify","db_form","db_firewall","db_user","db_dep","db_period","db_why","db_doc","db_time","db_title","db_file_path","db_manager","$store","state","userId","post","headers","then","response","console","log","alert","$router","push","catch","error","computed","uppy","use","endpoint","fieldName","bundle","autoProceed","on","file","doc","body","beforeDestroy","close","reason"],"sourceRoot":"","sources":["/lab/src/components/vpndoc.vue"],"sourcesContent":["<template>\n    <v-container grid-list-xl>\n      <v-layout\n      >\n      <v-row>\n        <v-col cols=\"3\"><router-link to=\"/upload\">IP신청서</router-link></v-col>\n        <v-col cols=\"3\"><router-link to=\"/upload_internet\">인터넷차단해제신청서</router-link></v-col>\n        <v-col cols=\"3\"><router-link to=\"/upload_firewall\">방화벽정책신청서</router-link></v-col>\n        <v-col cols=\"3\"><router-link to=\"/upload_vpn\">vpn계정신청서</router-link></v-col>\n      </v-row>\n      </v-layout>\n      </v-container>\n      <v-container grid-list-xl>\n      <v-layout\n        wrap\n        justify-space-between\n      >\n      <v-col cols=\"3\" class=\"border_style\">\n      <Dashboard\n        ref=\"dash\"\n        :uppy=\"uppy\"\n      /></v-col>\n      <v-col cols=\"5\" class=\"border_style\"> <iframe v-bind:src=\"pdf_file\" style=\"width:700px; height:800px;\" frameborder=\"0\"></iframe></v-col>\n      <v-col cols=\"4\" class=\"border_style\">\n      <div>\n        <div>기안구분 :\n          <label><input type=\"radio\" v-bind:value=\"radioValue1\" v-model=\"gubun\" />생성</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue2\" v-model=\"gubun\" />변경</label>\n          <label><input type=\"radio\" v-bind:value=\"radioValue3\" v-model=\"gubun\" />삭제</label>\n        </div>\n        <v-textarea label=\"접근대상 IP/Port\" rows=\"3\" dense name=\"accept\" v-model=\"accept\"/>\n        <v-text-field label=\"담당자\" dense name=\"peo\" v-model=\"peo\"/>\n        <v-text-field label=\"부서\" dense name=\"dep\" v-model=\"dep\"/>\n        <v-text-field label=\"기간\" dense name=\"period\" v-model=\"period\"/>\n        <v-textarea label=\"요청사유\" name=\"whyy\" rows=\"3\" v-model=\"whyy\"/>\n        <v-text-field label=\"기안번호\" name=\"num\" dense v-model=\"num\"/>\n      <v-btn color=\"success\" @click=\"upload()\">업로드</v-btn>\n      </div>\n      </v-col>\n      </v-layout>\n      </v-container>\n  </template>\n  <script>\n  import { Dashboard } from \"@uppy/vue\";\n  import \"@uppy/core/dist/style.css\";\n  import Uppy from \"@uppy/core\";\n  import XHRUpload from \"@uppy/xhr-upload\";\n  import \"@uppy/core/dist/style.css\";\n  import \"@uppy/dashboard/dist/style.css\";\n  import App from \"../App.vue\"\n  import axios from 'axios';\n  import Home from \"./Home.vue\"\n  \n  \n  export default{\n    name: 'Hello',\n    components: {\n      Dashboard,\n      App,\n      Home,\n    },\n    \n    data: () => {\n      return {\n        why : '',\n        dep: '',\n        num:'',\n        peo:'',\n        whyy:'',\n        period:'',\n        policy:'',\n        gubun:'생성',\n        radioValue1:'생성',\n        radioValue2:'변경',\n        radioValue3:'삭제',\n        accept:'',\n        time:'',\n        title:'',\n        file_path:'',\n        pdf_file:'',\n        file_name:'',\n      };\n    },\n    methods: {\n      upload(){\n      let self = this\n      var conf = confirm(\n               \"기안구분 : \" + this.gubun + \"\\n\"\n              +\"접근대상 : \" + this.accept + \"\\n\"\n              +\"담당자 : \" + this.peo + \"\\n\"\n              +\"부서 : \" + this.dep + \"\\n\"\n              +\"기간 : \" + this.period + \"\\n\"\n              +\"요청사유 : \" + this.whyy + \"\\n\"\n              +\"기안번호 : \" + this.num)\n        if(!conf) e.preventDefault();\n        const url = 'http://10.1.30.202:5000/account_insert';\n        const data = JSON.stringify({\n          db_form:this.gubun,\n          db_firewall:this.accept,\n          db_user:this.peo,\n          db_dep:this.dep,\n          db_period:this.period,\n          db_why:this.whyy,\n          db_doc:this.num,\n          db_time:this.time,\n          db_title:this.title,\n          db_file_path:this.file_path,\n          db_manager:this.$store.state.userId,\n        })\n        axios.post(url, data, {\n          headers: {\n              \"Content-Type\": `application/json`,\n            },\n        })\n        .then(function(response) {\n            console.log(response)\n            alert(response.data)\n            self.$router.push('home')\n          })\n          .catch(function(error) {\n            console.log(error);\n            alert(error.response.data)\n          });\n      }\n    },\n    computed: {\n      uppy(){\n        return new Uppy()\n  \n      .use(XHRUpload, {\n        endpoint: \"http://10.1.30.202:5000/account_upload\",\n        fieldName: \"file\",\n        bundle: true,\n        autoProceed: false,\n        })\n  \n      .on('upload-success', (file, response) => {\n      console.log(file.name, response)\n      const doc = response.body\n      this.dep = doc.dep\n      this.peo = doc.peo\n      this.period = doc.period\n      this.policy = doc.policy\n      this.whyy = doc.why\n      this.doc = doc.doc\n      this.time = doc.time\n      this.title = doc.title\n      this.file_path = doc.file_path\n      this.file_name = doc.file_name\n      this.pdf_file = '/ACCOUNT_Doc/' + this.file_name\n  })\n      },\n    },\n    beforeDestroy () {\n      this.uppy.close({ reason: 'unmount' })\n    }\n  }\n  </script>"]},"metadata":{},"sourceType":"module"}