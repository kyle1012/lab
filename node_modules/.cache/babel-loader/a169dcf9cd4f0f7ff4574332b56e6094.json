{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"board-list\"\n};\nconst _hoisted_2 = {\n  class: \"common-buttons\"\n};\nconst _hoisted_3 = {\n  class: \"w3-table-all\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"순번\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"분류\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"제목\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"기안자\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"부서\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"기안일\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"처리일\")])], -1 /* HOISTED */);\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  class: \"pagination d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons-outlined\"\n}, \" chevron_left \", -1 /* HOISTED */);\nconst _hoisted_9 = [_hoisted_8];\nconst _hoisted_10 = [\"disabled\"];\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"material-icons-outlined\"\n}, \" chevron_right \", -1 /* HOISTED */);\nconst _hoisted_12 = [_hoisted_11];\nexport function render(_ctx, _cache) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-blue-gray\",\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.fnWrite && _ctx.fnWrite(...args))\n  }, \"검색\")]), _createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.paginatedData, a => {\n    return _openBlock(), _createElementBlock(_Fragment, null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.list, (row, idx) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: idx\n      }, [_createElementVNode(\"td\", null, _toDisplayString(row[0]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[2]), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n        onClick: $event => _ctx.fnView(row[0])\n      }, _toDisplayString(row[3]), 9 /* TEXT, PROPS */, _hoisted_5)]), _createElementVNode(\"td\", null, _toDisplayString(row[4]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[8]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[14]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[17]), 1 /* TEXT */)]);\n    }), 128 /* KEYED_FRAGMENT */))], 64 /* STABLE_FRAGMENT */);\n  }), 256 /* UNKEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    disabled: _ctx.pageNum === 0,\n    class: \"btn next\",\n    onClick: _cache[1] || (_cache[1] = $event => _ctx.prevPage())\n  }, _hoisted_9, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"span\", null, _toDisplayString(_ctx.pageNum + 1) + \" / \" + _toDisplayString(_ctx.pageCount === 0 ? 1 : _ctx.pageCount), 1 /* TEXT */), _createElementVNode(\"button\", {\n    disabled: _ctx.pageNum >= _ctx.pageCount - 1,\n    class: \"btn next\",\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.nextPage())\n  }, _hoisted_12, 8 /* PROPS */, _hoisted_10)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAgB;;EAGpBA,KAAK,EAAC;AAAc;gCACzBC,oBAUQ,6BATRA,oBAQK,0BAPHA,oBAAW,YAAP,IAAE,gBACNA,oBAAW,YAAP,IAAE,gBACNA,oBAAW,YAAP,IAAE,gBACNA,oBAAY,YAAR,KAAG,gBACPA,oBAAW,YAAP,IAAE,gBACNA,oBAAY,YAAR,KAAG,gBACPA,oBAAY,YAAR,KAAG;;;EAkBRD,KAAK,EAAC;AAA6D;;gCAE5DC,oBAEO;EAFDD,KAAK,EAAC;AAAyB,GAAC,gBAEtC;oBAFAE,UAEO;;iCAIPD,oBAEO;EAFDD,KAAK,EAAC;AAAyB,GAAC,iBAEtC;qBAFAG,WAEO;;6DAzCnBF,oBA8BM,OA9BNG,UA8BM,GA7BJH,oBAEM,OAFNI,UAEM,GADJJ,oBAA8F;IAAtFK,IAAI,EAAC,QAAQ;IAACN,KAAK,EAAC,iCAAiC;IAAMO,OAAK,yCAAEC,qCAAO;KAAE,IAAE,KAEvFP,oBAyBQ,SAzBRQ,UAyBQ,GAxBNC,UAUQ,EACRT,oBAYQ,mCAXVU,oBAUaC,6BAVSJ,kBAAa,EAAlBK,CAAC;kFAChBF,oBAQOC,6BARkBJ,SAAI,GAAjBM,GAAG,EAAEC,GAAG;2BAApBJ,oBAQO;QARyBK,GAAG,EAAED;MAAG,IACpCd,oBAAqB,6BAAda,GAAG,qBACVb,oBAAqB,6BAAda,GAAG,qBACVb,oBAAoD,aAAhDA,oBAA2C;QAAvCM,OAAK,YAAEC,WAAM,CAACM,GAAG;0BAASA,GAAG,0CACrCb,oBAAqB,6BAAda,GAAG,qBACVb,oBAAqB,6BAAda,GAAG,qBACVb,oBAAsB,6BAAfa,GAAG,sBACVb,oBAAsB,6BAAfa,GAAG;;0CAMlBb,oBAYc,OAZdgB,UAYc,GAXJhB,oBAIS;IAJAiB,QAAQ,EAAEV,YAAO;IAAQR,KAAK,EAAC,UAAU;IAAEO,OAAK,sCAAEC,aAAQ;6CAKnEP,oBAAkE,+BAAzDO,YAAO,QAAO,KAAG,oBAAGA,cAAS,aAASA,cAAS,kBACxDP,oBAIS;IAJAiB,QAAQ,EAAEV,YAAO,IAAIA,cAAS;IAAMR,KAAK,EAAC,UAAU;IAAEO,OAAK,sCAAEC,aAAQ","names":["class","_createElementVNode","_hoisted_8","_hoisted_11","_hoisted_1","_hoisted_2","type","onClick","_ctx","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","a","row","idx","key","_hoisted_6","disabled"],"sourceRoot":"","sources":["/lab/src/components/BoardList.vue"],"sourcesContent":["<template>\n  <div class=\"board-list\">\n    <div class=\"common-buttons\">\n      <button type=\"button\" class=\"w3-button w3-round w3-blue-gray\" v-on:click=\"fnWrite\">검색</button>\n    </div>\n    <table class=\"w3-table-all\">\n      <thead>\n      <tr>\n        <th>순번</th>  \n        <th>분류</th>\n        <th>제목</th>\n        <th>기안자</th>\n        <th>부서</th>\n        <th>기안일</th>\n        <th>처리일</th>\n      </tr>\n      </thead>\n      <tbody>\n    <template v-for=\"a in paginatedData\">\n      <tr v-for=\"(row, idx) in list\" :key=\"idx\">\n          <td>{{ row[0] }}</td>\n          <td>{{ row[2] }}</td>\n          <td><a @click=\"fnView(row[0])\">{{ row[3] }}</a></td>\n          <td>{{ row[4] }}</td>\n          <td>{{ row[8] }}</td>\n          <td>{{ row[14] }}</td>\n          <td>{{ row[17] }}</td>\n        </tr>\n      </template>\n      </tbody>\n    </table>\n  </div>\n  <div class=\"pagination d-flex justify-content-center align-items-center\">\n            <button :disabled=\"pageNum === 0\" class=\"btn next\" @click=\"prevPage()\">\n              <span class=\"material-icons-outlined\">\n                chevron_left\n              </span>\n            </button>\n            <span>{{ pageNum + 1 }} / {{ pageCount===0? 1: pageCount }}</span>\n            <button :disabled=\"pageNum >= pageCount - 1\" class=\"btn next\" @click=\"nextPage()\">\n              <span class=\"material-icons-outlined\">\n                chevron_right\n              </span>\n            </button>\n          </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  components: {\n  },\n  data() { //변수생성\n    return {\n      list: {}, //리스트 데이터\n      no: '', //게시판 숫자처리\n      pageNum: 0,\n      listArray: [],\n      pageSize: 5,\n    }\n  },\n  mounted() {\n  this.fnGetList()\n},\n  methods: {\n      fnGetList() {\n      axios.get(\"http://10.1.30.202:5000/board\")\n      .then((res) => {      \n        this.list = res.data  //서버에서 데이터를 목록으로 보내므로 바로 할당하여 사용할 수 있다.\n        this.listArray = res.data\n        console.log(res.data)\n\n\n      }).catch((err) => {\n        if (err.message.indexOf('Network Error') > -1) {\n          alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.')\n        }\n      })\n    },\n    fnView(index) {\n      if(index = this.list[index-1][0]){\n    this.$router.push({\n   path: './BoardDetail',\n    query: this.list[index-1]\n    })\n  }\n  },\n\n  },\n  computed: {\n    pageCount() {\n      const listLeng = this.listArray.length;\n      const listSize = this.pageSize;\n      let page = Math.floor(listLeng / listSize);\n      if (listLeng % listSize > 0) page += 1;\n\n      return page;\n    },\n\n    paginatedData() {\n      const start = this.pageNum * this.pageSize;\n      const end = start + this.pageSize;\n      return this.listArray.slice(start, end);\n    },\n\n  },\n\n  methods: {\n    nextPage() {\n      this.pageNum += 1;\n    },\n    prevPage() {\n      this.pageNum -= 1;\n    },\n\n  },\n}\n}\n</script>"]},"metadata":{},"sourceType":"module"}