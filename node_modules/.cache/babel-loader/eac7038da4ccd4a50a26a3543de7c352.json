{"ast":null,"code":"\"use strict\";\n\nimport { h } from 'vue';\nexport default {\n  // thanks to https://github.com/marcj/css-element-queries\n  props: {\n    initial: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function () {\n    return {\n      size: {\n        width: -1,\n        height: -1\n      }\n    };\n  },\n  methods: {\n    reset: function () {\n      var expand = this.$el.firstChild;\n      var shrink = this.$el.lastChild;\n      expand.scrollLeft = 100000;\n      expand.scrollTop = 100000;\n      shrink.scrollLeft = 100000;\n      shrink.scrollTop = 100000;\n    },\n    update: function () {\n      this.size.width = this.$el.offsetWidth;\n      this.size.height = this.$el.offsetHeight;\n    }\n  },\n  watch: {\n    size: {\n      deep: true,\n      handler: function (size) {\n        this.reset();\n        this.$emit('resize', {\n          width: this.size.width,\n          height: this.size.height\n        });\n      }\n    }\n  },\n  render: function () {\n    var style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\n    var styleChild = 'position: absolute; left: 0; top: 0;';\n    return h('div', {\n      style: style + 'animation-name: resizeSensorVisibility;',\n      onanimationstart: this.update\n    }, [h('div', {\n      style: style,\n      onScroll: this.update\n    }, [h('div', {\n      style: styleChild + 'width: 100000px; height: 100000px;'\n    })]), h('div', {\n      style: style,\n      onScroll: this.update\n    }, [h('div', {\n      style: styleChild + 'width: 200%; height: 200%;'\n    })])]);\n  },\n  beforeDestroy: function () {\n    this.$emit('resize', {\n      width: 0,\n      height: 0\n    });\n    this.$emit('resizeSensorBeforeDestroy');\n  },\n  mounted: function () {\n    if (this.initial === true) this.$nextTick(this.update);\n    if (this.$el.offsetParent !== this.$el.parentNode) this.$el.parentNode.style.position = 'relative';\n    if ('attachEvent' in this.$el && !('AnimationEvent' in window)) {\n      var onresizeHandler = function () {\n        this.update();\n        removeOnresizeEvent();\n      }.bind(this);\n      var removeOnresizeEvent = function () {\n        this.$el.detachEvent('onresize', onresizeHandler);\n        this.$off('resizeSensorBeforeDestroy', removeOnresizeEvent);\n      }.bind(this);\n      this.$el.attachEvent('onresize', onresizeHandler);\n      this.$on('resizeSensorBeforeDestroy', removeOnresizeEvent);\n      this.reset();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["h","props","initial","type","Boolean","default","data","size","width","height","methods","reset","expand","$el","firstChild","shrink","lastChild","scrollLeft","scrollTop","update","offsetWidth","offsetHeight","watch","deep","handler","$emit","render","style","styleChild","onanimationstart","onScroll","beforeDestroy","mounted","$nextTick","offsetParent","parentNode","position","window","onresizeHandler","removeOnresizeEvent","bind","detachEvent","$off","attachEvent","$on"],"sourceRoot":"","sources":["/lab/node_modules/pdfvuer/src/resize.vue"],"sourcesContent":["<style>\n@keyframes resizeSensorVisibility {\n\tfrom { top: 0; }\n}\n</style>\n\n<script>\n\"use strict\";\nimport {h} from 'vue'\nexport default {\n\t// thanks to https://github.com/marcj/css-element-queries\n\tprops: {\n\t\tinitial: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tsize: {\n\t\t\t\twidth: -1,\n\t\t\t\theight: -1\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\treset: function() {\n\t\t\tvar expand = this.$el.firstChild;\n\t\t\tvar shrink = this.$el.lastChild;\n\t\t\texpand.scrollLeft = 100000;\n\t\t\texpand.scrollTop = 100000;\n\t\t\tshrink.scrollLeft = 100000;\n\t\t\tshrink.scrollTop = 100000;\n\t\t},\n\t\tupdate: function() {\n\t\t\t\n\t\t\tthis.size.width = this.$el.offsetWidth;\n\t\t\tthis.size.height = this.$el.offsetHeight;\n\t\t}\n\t},\n\twatch: {\n\t\tsize: {\n\t\t\tdeep: true,\n\t\t\thandler: function(size) {\n\t\t\t\t\n\t\t\t\tthis.reset();\n\t\t\t\tthis.$emit('resize', { width: this.size.width, height: this.size.height });\n\t\t\t}\n\t\t}\n\t},\n\trender: function() {\n\t\tvar style = 'position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;';\n\t\tvar styleChild = 'position: absolute; left: 0; top: 0;';\n\t\treturn h('div', {\n\t\t\tstyle: style + 'animation-name: resizeSensorVisibility;',\n\t\t\tonanimationstart: this.update\n\t\t},[\n\t\t\th('div', {\n\t\t\t\tstyle: style,\n\t\t\t\tonScroll: this.update\n\t\t\t}, [\n\t\t\t\th('div', {\n\t\t\t\t\tstyle: styleChild + 'width: 100000px; height: 100000px;'\n\t\t\t\t})\n\t\t\t]),\n\t\t\th('div', {\n\t\t\t\tstyle: style,\n\t\t\t\tonScroll: this.update\n\t\t\t}, [\n\t\t\t\th('div', {\n\t\t\t\t\tstyle: styleChild + 'width: 200%; height: 200%;'\n\t\t\t\t})\n\t\t\t]),\n\t\t]);\n\t},\n\tbeforeDestroy: function() {\n\t\t\n\t\tthis.$emit('resize', { width: 0, height: 0 });\n\t\tthis.$emit('resizeSensorBeforeDestroy');\n\t},\n\tmounted: function() {\n\t\tif ( this.initial === true )\n\t\t\tthis.$nextTick(this.update);\n\t\t\n\t\tif ( this.$el.offsetParent !== this.$el.parentNode )\n\t\t\tthis.$el.parentNode.style.position = 'relative';\n\t\tif ( 'attachEvent' in this.$el && !('AnimationEvent' in window) ) {\n\t\t\tvar onresizeHandler = function() {\n\t\t\t\tthis.update();\n\t\t\t\tremoveOnresizeEvent();\n\t\t\t}.bind(this);\n\t\t\n\t\t\tvar removeOnresizeEvent = function() {\n\t\t\t\t\n\t\t\t\tthis.$el.detachEvent('onresize', onresizeHandler);\n\t\t\t\tthis.$off('resizeSensorBeforeDestroy', removeOnresizeEvent);\n\t\t\t}.bind(this);\n\t\t\t\n\t\t\tthis.$el.attachEvent('onresize', onresizeHandler);\n\t\t\tthis.$on('resizeSensorBeforeDestroy', removeOnresizeEvent);\n\t\t\tthis.reset();\n\t\t}\n\t}\n}\n</script>"]},"metadata":{},"sourceType":"module"}