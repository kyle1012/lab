{"ast":null,"code":"/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\nWildcardMatcher.prototype.match = function (input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*') {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  } else if (typeof input.splice == 'function') {\n    matches = [];\n    for (ii = input.length; ii--;) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  } else if (typeof input == 'object') {\n    matches = {};\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n  return matches;\n};\nmodule.exports = function (text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n  return matcher;\n};","map":{"version":3,"names":["WildcardMatcher","text","separator","hasWild","indexOf","parts","split","prototype","match","input","matches","ii","partsCount","length","testParts","String","splice","key","module","exports","test","matcher"],"sources":["/lab/node_modules/mime-match/node_modules/wildcard/index.js"],"sourcesContent":["/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n"],"mappings":"AAAA;AACA,YAAY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,eAAe,CAACC,IAAI,EAAEC,SAAS,EAAE;EACxC,IAAI,CAACD,IAAI,GAAGA,IAAI,GAAGA,IAAI,IAAI,EAAE;EAC7B,IAAI,CAACE,OAAO,GAAG,CAACF,IAAI,CAACG,OAAO,CAAC,GAAG,CAAC;EACjC,IAAI,CAACF,SAAS,GAAGA,SAAS;EAC1B,IAAI,CAACG,KAAK,GAAGJ,IAAI,CAACK,KAAK,CAACJ,SAAS,CAAC;AACpC;AAEAF,eAAe,CAACO,SAAS,CAACC,KAAK,GAAG,UAASC,KAAK,EAAE;EAChD,IAAIC,OAAO,GAAG,IAAI;EAClB,IAAIL,KAAK,GAAG,IAAI,CAACA,KAAK;EACtB,IAAIM,EAAE;EACN,IAAIC,UAAU,GAAGP,KAAK,CAACQ,MAAM;EAC7B,IAAIC,SAAS;EAEb,IAAI,OAAOL,KAAK,IAAI,QAAQ,IAAIA,KAAK,YAAYM,MAAM,EAAE;IACvD,IAAI,CAAC,IAAI,CAACZ,OAAO,IAAI,IAAI,CAACF,IAAI,IAAIQ,KAAK,EAAE;MACvCC,OAAO,GAAG,KAAK;IACjB,CAAC,MAAM;MACLI,SAAS,GAAG,CAACL,KAAK,IAAI,EAAE,EAAEH,KAAK,CAAC,IAAI,CAACJ,SAAS,CAAC;MAC/C,KAAKS,EAAE,GAAG,CAAC,EAAED,OAAO,IAAIC,EAAE,GAAGC,UAAU,EAAED,EAAE,EAAE,EAAE;QAC7C,IAAIN,KAAK,CAACM,EAAE,CAAC,KAAK,GAAG,EAAG;UACtB;QACF,CAAC,MAAM,IAAIA,EAAE,GAAGG,SAAS,CAACD,MAAM,EAAE;UAChCH,OAAO,GAAGL,KAAK,CAACM,EAAE,CAAC,KAAKG,SAAS,CAACH,EAAE,CAAC;QACvC,CAAC,MAAM;UACLD,OAAO,GAAG,KAAK;QACjB;MACF;;MAEA;MACAA,OAAO,GAAGA,OAAO,IAAII,SAAS;IAChC;EACF,CAAC,MACI,IAAI,OAAOL,KAAK,CAACO,MAAM,IAAI,UAAU,EAAE;IAC1CN,OAAO,GAAG,EAAE;IAEZ,KAAKC,EAAE,GAAGF,KAAK,CAACI,MAAM,EAAEF,EAAE,EAAE,GAAI;MAC9B,IAAI,IAAI,CAACH,KAAK,CAACC,KAAK,CAACE,EAAE,CAAC,CAAC,EAAE;QACzBD,OAAO,CAACA,OAAO,CAACG,MAAM,CAAC,GAAGJ,KAAK,CAACE,EAAE,CAAC;MACrC;IACF;EACF,CAAC,MACI,IAAI,OAAOF,KAAK,IAAI,QAAQ,EAAE;IACjCC,OAAO,GAAG,CAAC,CAAC;IAEZ,KAAK,IAAIO,GAAG,IAAIR,KAAK,EAAE;MACrB,IAAI,IAAI,CAACD,KAAK,CAACS,GAAG,CAAC,EAAE;QACnBP,OAAO,CAACO,GAAG,CAAC,GAAGR,KAAK,CAACQ,GAAG,CAAC;MAC3B;IACF;EACF;EAEA,OAAOP,OAAO;AAChB,CAAC;AAEDQ,MAAM,CAACC,OAAO,GAAG,UAASlB,IAAI,EAAEmB,IAAI,EAAElB,SAAS,EAAE;EAC/C,IAAImB,OAAO,GAAG,IAAIrB,eAAe,CAACC,IAAI,EAAEC,SAAS,IAAI,QAAQ,CAAC;EAC9D,IAAI,OAAOkB,IAAI,IAAI,WAAW,EAAE;IAC9B,OAAOC,OAAO,CAACb,KAAK,CAACY,IAAI,CAAC;EAC5B;EAEA,OAAOC,OAAO;AAChB,CAAC"},"metadata":{},"sourceType":"script"}