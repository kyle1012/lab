{"ast":null,"code":"import \"core-js/modules/es.typed-array.find-last.js\";\nimport \"core-js/modules/es.typed-array.find-last-index.js\";\nimport resizeSensor from 'vue3-resize-sensor';\nimport { h } from 'vue';\nexport default function (pdfjsWrapper) {\n  var createLoadingTask = pdfjsWrapper.createLoadingTask;\n  var PDFJSWrapper = pdfjsWrapper.PDFJSWrapper;\n  return {\n    createLoadingTask: createLoadingTask,\n    render() {\n      return h('span', {\n        style: 'position: relative; display: block'\n      }, [h('canvas', {\n        style: 'display: inline-block; width: 100%; height: 100%; vertical-align: top',\n        ref: 'canvas'\n      }), h('span', {\n        style: 'display: inline-block; width: 100%; height: 100%',\n        class: 'annotationLayer',\n        ref: 'annotationLayer'\n      }), h(resizeSensor, {\n        initial: true,\n        onResize: this.resize\n      })]);\n    },\n    props: {\n      src: {\n        type: [String, Object, Uint8Array],\n        default: ''\n      },\n      page: {\n        type: Number,\n        default: 1\n      },\n      rotate: {\n        type: Number\n      }\n    },\n    emits: ['password', 'progress', 'numPages', 'loaded', 'error', 'pageLoaded', 'pageSize', 'linkClicked'],\n    watch: {\n      src: function () {\n        this.pdf.loadDocument(this.src);\n      },\n      page: function () {\n        this.pdf.loadPage(this.page, this.rotate);\n      },\n      rotate: function () {\n        this.pdf.renderPage(this.rotate);\n      }\n    },\n    methods: {\n      resize: function (size) {\n        // check if the element is attached to the dom tree || resizeSensor being destroyed\n        if (this.$el.parentNode === null || size.width === 0 && size.height === 0) {\n          return;\n        }\n\n        // on IE10- canvas height must be set\n        this.$refs.canvas.style.height = this.$refs.canvas.offsetWidth * (this.$refs.canvas.height / this.$refs.canvas.width) + 'px';\n        // update the page when the resolution is too poor\n        var resolutionScale = this.pdf.getResolutionScale();\n        if (resolutionScale < 0.85 || resolutionScale > 1.15) {\n          this.pdf.renderPage(this.rotate);\n        }\n      },\n      print: function (dpi, pageList) {\n        this.pdf.printPage(dpi, pageList);\n      }\n    },\n    // doc: mounted hook is not called during server-side rendering.\n    mounted() {\n      this.pdf = new PDFJSWrapper(this.$refs.canvas, this.$refs.annotationLayer, this.$emit, this.page, this.rotate);\n      this.pdf.loadDocument(this.src);\n    },\n    // doc: destroyed hook is not called during server-side rendering.\n    unmounted() {\n      this.pdf.destroy();\n    }\n  };\n}","map":{"version":3,"names":["resizeSensor","h","pdfjsWrapper","createLoadingTask","PDFJSWrapper","render","style","ref","class","initial","onResize","resize","props","src","type","String","Object","Uint8Array","default","page","Number","rotate","emits","watch","pdf","loadDocument","loadPage","renderPage","methods","size","$el","parentNode","width","height","$refs","canvas","offsetWidth","resolutionScale","getResolutionScale","print","dpi","pageList","printPage","mounted","annotationLayer","$emit","unmounted","destroy"],"sources":["/lab/node_modules/@jbtje/vue3pdf/src/componentFactory.js"],"sourcesContent":["import resizeSensor from 'vue3-resize-sensor';\r\nimport {h}          from 'vue';\r\n\r\nexport default function( pdfjsWrapper ) {\r\n    var createLoadingTask = pdfjsWrapper.createLoadingTask;\r\n    var PDFJSWrapper      = pdfjsWrapper.PDFJSWrapper;\r\n\r\n    return {\r\n        createLoadingTask: createLoadingTask,\r\n\r\n        render() {\r\n            return h( 'span', {\r\n                style: 'position: relative; display: block',\r\n            }, [\r\n                h( 'canvas', {\r\n                    style: 'display: inline-block; width: 100%; height: 100%; vertical-align: top',\r\n                    ref:   'canvas',\r\n                } ),\r\n                h( 'span', {\r\n                    style: 'display: inline-block; width: 100%; height: 100%',\r\n                    class: 'annotationLayer',\r\n                    ref:   'annotationLayer',\r\n                } ),\r\n                h( resizeSensor, {\r\n                    initial: true,\r\n                    onResize: this.resize,\r\n                } ),\r\n            ] );\r\n        },\r\n\r\n        props: {\r\n            src:    {\r\n                type:    [String, Object, Uint8Array],\r\n                default: '',\r\n            },\r\n            page:   {\r\n                type:    Number,\r\n                default: 1,\r\n            },\r\n            rotate: {\r\n                type: Number,\r\n            },\r\n        },\r\n\r\n        emits: [\r\n            'password',\r\n            'progress',\r\n            'numPages',\r\n            'loaded',\r\n            'error',\r\n            'pageLoaded',\r\n            'pageSize',\r\n            'linkClicked',\r\n        ],\r\n\r\n        watch: {\r\n            src:    function() {\r\n                this.pdf.loadDocument( this.src );\r\n            },\r\n            page:   function() {\r\n                this.pdf.loadPage( this.page, this.rotate );\r\n            },\r\n            rotate: function() {\r\n                this.pdf.renderPage( this.rotate );\r\n            },\r\n        },\r\n\r\n        methods: {\r\n            resize: function( size ) {\r\n\r\n                // check if the element is attached to the dom tree || resizeSensor being destroyed\r\n                if( this.$el.parentNode === null || (size.width === 0 && size.height === 0) ) {\r\n                    return;\r\n                }\r\n\r\n                // on IE10- canvas height must be set\r\n                this.$refs.canvas.style.height = this.$refs.canvas.offsetWidth * (this.$refs.canvas.height / this.$refs.canvas.width) + 'px';\r\n                // update the page when the resolution is too poor\r\n                var resolutionScale            = this.pdf.getResolutionScale();\r\n\r\n                if( resolutionScale < 0.85 || resolutionScale > 1.15 ) {\r\n                    this.pdf.renderPage( this.rotate );\r\n                }\r\n            },\r\n            print:  function( dpi, pageList ) {\r\n                this.pdf.printPage( dpi, pageList );\r\n            },\r\n        },\r\n\r\n        // doc: mounted hook is not called during server-side rendering.\r\n        mounted() {\r\n            this.pdf = new PDFJSWrapper( this.$refs.canvas, this.$refs.annotationLayer, this.$emit, this.page, this.rotate );\r\n            this.pdf.loadDocument( this.src );\r\n        },\r\n\r\n        // doc: destroyed hook is not called during server-side rendering.\r\n        unmounted() {\r\n            this.pdf.destroy();\r\n        },\r\n    };\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}