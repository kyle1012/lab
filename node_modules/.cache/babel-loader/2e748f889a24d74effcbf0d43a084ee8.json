{"ast":null,"code":"import DashboardPlugin from '@uppy/dashboard';\nimport { shallowEqualObjects } from 'shallow-equal'; // Cross compatibility dependencies\n\nimport * as Vue from 'vue';\nimport { isVue2 } from './utils.js';\nexport default {\n  data() {\n    return {\n      plugin: {}\n    };\n  },\n  props: {\n    uppy: {\n      required: true\n    },\n    props: {\n      type: Object\n    },\n    plugins: {\n      type: Array\n    }\n  },\n  mounted() {\n    this.installPlugin();\n  },\n  methods: {\n    installPlugin() {\n      const {\n        uppy\n      } = this;\n      const options = {\n        id: 'vue:Dashboard',\n        inline: true,\n        plugins: this.plugins,\n        ...this.props,\n        target: this.$refs.container\n      };\n      uppy.use(DashboardPlugin, options);\n      this.plugin = uppy.getPlugin(options.id);\n    },\n    uninstallPlugin(uppy) {\n      uppy.removePlugin(this.plugin);\n    }\n  },\n  beforeDestroy() {\n    this.uninstallPlugin(this.uppy);\n  },\n  beforeUnmount() {\n    this.uninstallPlugin(this.uppy);\n  },\n  watch: {\n    uppy(current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old);\n        this.installPlugin();\n      }\n    },\n    props(current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({\n          ...current\n        });\n      }\n    }\n  },\n  render() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args;\n      return createElement('div', {\n        ref: 'container'\n      });\n    } // Otherwise, we use the `h` function from the Vue package (in Vue 3 fashion)\n\n    return Vue.h('div', {\n      ref: 'container'\n    });\n  }\n};","map":{"version":3,"names":["DashboardPlugin","shallowEqualObjects","Vue","isVue2","data","plugin","props","uppy","required","type","Object","plugins","Array","mounted","installPlugin","methods","options","id","inline","target","$refs","container","use","getPlugin","uninstallPlugin","removePlugin","beforeDestroy","beforeUnmount","watch","current","old","setOptions","render","_len","arguments","length","args","_key","createElement","ref","h"],"sources":["/lab/node_modules/@uppy/vue/lib/dashboard.js"],"sourcesContent":["import DashboardPlugin from '@uppy/dashboard';\nimport { shallowEqualObjects } from 'shallow-equal'; // Cross compatibility dependencies\n\nimport * as Vue from 'vue';\nimport { isVue2 } from './utils.js';\nexport default {\n  data() {\n    return {\n      plugin: {}\n    };\n  },\n\n  props: {\n    uppy: {\n      required: true\n    },\n    props: {\n      type: Object\n    },\n    plugins: {\n      type: Array\n    }\n  },\n\n  mounted() {\n    this.installPlugin();\n  },\n\n  methods: {\n    installPlugin() {\n      const {\n        uppy\n      } = this;\n      const options = {\n        id: 'vue:Dashboard',\n        inline: true,\n        plugins: this.plugins,\n        ...this.props,\n        target: this.$refs.container\n      };\n      uppy.use(DashboardPlugin, options);\n      this.plugin = uppy.getPlugin(options.id);\n    },\n\n    uninstallPlugin(uppy) {\n      uppy.removePlugin(this.plugin);\n    }\n\n  },\n\n  beforeDestroy() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  beforeUnmount() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  watch: {\n    uppy(current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old);\n        this.installPlugin();\n      }\n    },\n\n    props(current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({ ...current\n        });\n      }\n    }\n\n  },\n\n  render() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args;\n      return createElement('div', {\n        ref: 'container'\n      });\n    } // Otherwise, we use the `h` function from the Vue package (in Vue 3 fashion)\n\n\n    return Vue.h('div', {\n      ref: 'container'\n    });\n  }\n\n};"],"mappings":"AAAA,OAAOA,eAAe,MAAM,iBAAiB;AAC7C,SAASC,mBAAmB,QAAQ,eAAe,CAAC,CAAC;;AAErD,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,SAASC,MAAM,QAAQ,YAAY;AACnC,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,CAAC;IACX,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,QAAQ,EAAE;IACZ,CAAC;IACDF,KAAK,EAAE;MACLG,IAAI,EAAEC;IACR,CAAC;IACDC,OAAO,EAAE;MACPF,IAAI,EAAEG;IACR;EACF,CAAC;EAEDC,OAAO,GAAG;IACR,IAAI,CAACC,aAAa,EAAE;EACtB,CAAC;EAEDC,OAAO,EAAE;IACPD,aAAa,GAAG;MACd,MAAM;QACJP;MACF,CAAC,GAAG,IAAI;MACR,MAAMS,OAAO,GAAG;QACdC,EAAE,EAAE,eAAe;QACnBC,MAAM,EAAE,IAAI;QACZP,OAAO,EAAE,IAAI,CAACA,OAAO;QACrB,GAAG,IAAI,CAACL,KAAK;QACba,MAAM,EAAE,IAAI,CAACC,KAAK,CAACC;MACrB,CAAC;MACDd,IAAI,CAACe,GAAG,CAACtB,eAAe,EAAEgB,OAAO,CAAC;MAClC,IAAI,CAACX,MAAM,GAAGE,IAAI,CAACgB,SAAS,CAACP,OAAO,CAACC,EAAE,CAAC;IAC1C,CAAC;IAEDO,eAAe,CAACjB,IAAI,EAAE;MACpBA,IAAI,CAACkB,YAAY,CAAC,IAAI,CAACpB,MAAM,CAAC;IAChC;EAEF,CAAC;EAEDqB,aAAa,GAAG;IACd,IAAI,CAACF,eAAe,CAAC,IAAI,CAACjB,IAAI,CAAC;EACjC,CAAC;EAEDoB,aAAa,GAAG;IACd,IAAI,CAACH,eAAe,CAAC,IAAI,CAACjB,IAAI,CAAC;EACjC,CAAC;EAEDqB,KAAK,EAAE;IACLrB,IAAI,CAACsB,OAAO,EAAEC,GAAG,EAAE;MACjB,IAAIA,GAAG,KAAKD,OAAO,EAAE;QACnB,IAAI,CAACL,eAAe,CAACM,GAAG,CAAC;QACzB,IAAI,CAAChB,aAAa,EAAE;MACtB;IACF,CAAC;IAEDR,KAAK,CAACuB,OAAO,EAAEC,GAAG,EAAE;MAClB,IAAI,CAAC7B,mBAAmB,CAAC4B,OAAO,EAAEC,GAAG,CAAC,EAAE;QACtC,IAAI,CAACzB,MAAM,CAAC0B,UAAU,CAAC;UAAE,GAAGF;QAC5B,CAAC,CAAC;MACJ;IACF;EAEF,CAAC;EAEDG,MAAM,GAAG;IACP,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIxB,KAAK,CAACqB,IAAI,CAAC,EAAEI,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGJ,IAAI,EAAEI,IAAI,EAAE,EAAE;MACvFD,IAAI,CAACC,IAAI,CAAC,GAAGH,SAAS,CAACG,IAAI,CAAC;IAC9B;;IAEA;IACA,IAAIlC,MAAM,CAAC,GAAGiC,IAAI,CAAC,EAAE;MACnB;MACA,MAAM,CAACE,aAAa,CAAC,GAAGF,IAAI;MAC5B,OAAOE,aAAa,CAAC,KAAK,EAAE;QAC1BC,GAAG,EAAE;MACP,CAAC,CAAC;IACJ,CAAC,CAAC;;IAGF,OAAOrC,GAAG,CAACsC,CAAC,CAAC,KAAK,EAAE;MAClBD,GAAG,EAAE;IACP,CAAC,CAAC;EACJ;AAEF,CAAC"},"metadata":{},"sourceType":"module"}