{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport HelloWorldVue from \"./HelloWorld.vue\";\nimport Header from \"./layout/Header\";\nimport Footer from \"./layout/Footer\";\nexport default {\n  name: \"Home\",\n  components: {\n    HelloWorldVue,\n    Header,\n    Footer\n  },\n  data() {\n    //변수생성\n    return {\n      body: '' //리스트 페이지 데이터전송\n      ,\n      board_code: 'news' //게시판코드\n      ,\n      list: '' //리스트 데이터\n      ,\n      no: '' //게시판 숫자처리\n      ,\n      paging: '' //페이징 데이터\n      ,\n      start_page: '' //시작페이지\n      ,\n      page: this.$route.query.page ? this.$route.query.page : 1,\n      keyword: this.$route.query.keyword,\n      paginavigation: function () {\n        //페이징 처리 for문 커스텀\n        var pageNumber = [];\n        var start_page = this.paging.start_page;\n        var end_page = this.paging.end_page;\n        for (var i = start_page; i <= end_page; i++) pageNumber.push(i);\n        return pageNumber;\n      }\n    };\n  },\n  mounted() {\n    //페이지 시작하면은 자동 함수 실행\n    this.fnGetList();\n  },\n  methods: {\n    fnGetList() {\n      //데이터 가져오기 함수\n      this.body = {\n        // 데이터 전송\n        board_code: this.board_code,\n        keyword: this.keyword,\n        page: this.page\n      };\n      this.$axios.get('http://10.1.30.202:5000/board', {\n        params: this.body\n      }).then(res => {\n        if (res.data.success) {\n          this.list = res.data.list;\n          this.paging = res.data.paging;\n          this.no = this.paging.totalCount - (this.paging.page - 1) * this.paging.ipp;\n        } else {\n          alert(\"실행중 실패했습니다.\\n다시 이용해 주세요.\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    fnAdd() {\n      this.$router.push(\"./write\");\n    },\n    getList() {\n      this.$axios.get(\"http://localhost:3000/api/board\").then(res => {\n        console.log(res);\n      }).then(err => {\n        console.log(err);\n      });\n    },\n    fnSearch() {\n      //검색\n      this.paging.page = 1;\n      this.fnGetList();\n    },\n    fnPage(n) {\n      //페이징 이\n      if (this.page != n) {\n        this.page = n;\n        this.fnGetList();\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["HelloWorldVue","Header","Footer","name","components","data","body","board_code","list","no","paging","start_page","page","$route","query","keyword","paginavigation","pageNumber","end_page","i","push","mounted","fnGetList","methods","$axios","get","params","then","res","success","totalCount","ipp","alert","catch","err","console","log","fnAdd","$router","getList","fnSearch","fnPage","n"],"sourceRoot":"","sources":["/lab/src/components/Home.vue"],"sourcesContent":["<template>\n    <div>\n       <Header></Header>\n       <router-view></router-view>\n    </div>\n    <div>\n\t\t<h2>게시판 리스트</h2>\n\n\t\t<div class=\"searchWrap\">\n\t\t\t<input type=\"text\" v-model=\"keyword\" @keyup.enter=\"fnSearch\" /><a href=\"javascript:;\" @click=\"fnSearch\" class=\"btnSearch btn\">검색</a>\n\t\t</div>\n\n\t\t<div class=\"listWrap\">\n\t\t\t<table class=\"tbList\">\n\t\t\t\t<colgroup>\n\t\t\t\t\t<col width=\"6%\" />\n\t\t\t\t\t<col width=\"*\" />\n\t\t\t\t\t<col width=\"10%\" />\n\t\t\t\t\t<col width=\"15%\" />\n\t\t\t\t</colgroup>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>no</th>\n\t\t\t\t\t<th>제목</th>\n\t\t\t\t\t<th>아이디</th>\n\t\t\t\t\t<th>날짜</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-for=\"(row, idx) in list\" :key=\"idx\">\n\t\t\t\t\t<td>{{no-idx}}</td>\n\t\t\t\t\t<td class=\"txt_left\"><a href=\"javascript:;\">{{row.subject}}</a></td>\n\t\t\t\t\t<td>{{row.id}}</td>\n\t\t\t\t\t<td>{{row.regdate.substring(0,10)}}</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr v-if=\"list.length == 0\">\n\t\t\t\t\t<td colspan=\"4\">데이터가 없습니다.</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\n\t\t<div class=\"pagination\" v-if=\"paging.totalCount > 0\">\n\t\t\t<a href=\"javascript:;\" @click=\"fnPage(1)\" class=\"first\">&lt;&lt;</a>\n\t\t\t<a href=\"javascript:;\" v-if=\"paging.start_page > 10\" @click=\"fnPage(`${paging.start_page-1}`)\"  class=\"prev\">&lt;</a>\n\t\t\t<template v-for=\" (n,index) in paginavigation()\">\n\t\t\t\t<template v-if=\"paging.page==n\">\n\t\t\t\t\t<strong :key=\"index\">{{n}}</strong>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<a href=\"javascript:;\" @click=\"fnPage(`${n}`)\" :key=\"index\">{{n}}</a>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t\t<a href=\"javascript:;\" v-if=\"paging.total_page > paging.end_page\" @click=\"fnPage(`${paging.end_page+1}`)\"  class=\"next\">&gt;</a>\n\t\t\t<a href=\"javascript:;\" @click=\"fnPage(`${paging.total_page}`)\" class=\"last\">&gt;&gt;</a>\n\t\t</div>\n\t</div>\n    <div>\n       <Footer></Footer>\n    </div>\n </template>\n \n <script>\n import HelloWorldVue from \"./HelloWorld.vue\";\n import Header from \"./layout/Header\";\n import Footer from \"./layout/Footer\";\n export default {\n   name: \"Home\",\n   components: {\n     HelloWorldVue,\n     Header,\n     Footer,\n   },\n   data() { //변수생성\n\t\treturn{\n\t\t\tbody:'' //리스트 페이지 데이터전송\n\t\t\t,board_code:'news' //게시판코드\n\t\t\t,list:'' //리스트 데이터\n\t\t\t,no:'' //게시판 숫자처리\n\t\t\t,paging:'' //페이징 데이터\n\t\t\t,start_page:'' //시작페이지\n\t\t\t,page:this.$route.query.page ? this.$route.query.page:1\n\t\t\t,keyword:this.$route.query.keyword\n\t\t\t,paginavigation:function() { //페이징 처리 for문 커스텀\n\t\t\t\tvar pageNumber = [];\n\t\t\t\tvar start_page = this.paging.start_page;\n\t\t\t\tvar end_page = this.paging.end_page;\n\t\t\t\tfor (var i = start_page; i <= end_page; i++) pageNumber.push(i);\n\t\t\t\treturn pageNumber;\n\t\t\t}\n\t\t}\n\t}\n\t,mounted() { //페이지 시작하면은 자동 함수 실행\n\t\tthis.fnGetList();\n\t}\n\t, methods:{\n\t\tfnGetList() { //데이터 가져오기 함수\n\t\t\tthis.body = { // 데이터 전송\n\t\t\t\tboard_code:this.board_code\n\t\t\t\t,keyword:this.keyword\n\t\t\t\t,page:this.page\n\t\t\t}\n\t\t\tthis.$axios.get('http://10.1.30.202:5000/board',{params:this.body})\n\t\t\t.then((res)=>{\n\t\t\t\tif(res.data.success) {\n\t\t\t\t\tthis.list = res.data.list;\n\t\t\t\t\tthis.paging = res.data.paging;\n\t\t\t\t\tthis.no = this.paging.totalCount - ((this.paging.page-1) * this.paging.ipp);\n\t\t\t\t} else {\n\t\t\t\t\talert(\"실행중 실패했습니다.\\n다시 이용해 주세요.\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err)=>{\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t}\n\t\t,fnAdd() {\n\t\t\tthis.$router.push(\"./write\");\n\t\t}\n\t\t,getList() {\n\t\t\tthis.$axios.get(\"http://localhost:3000/api/board\")\n\t\t\t.then((res)=>{\n\t\t\t\tconsole.log(res);\n\t\t\t})\n\t\t\t.then((err)=>{\n\t\t\t\tconsole.log(err);\n\t\t\t})\n\t\t}\n\t\t,fnSearch() { //검색\n\t\t\tthis.paging.page = 1;\n\t\t\tthis.fnGetList();\n\t\t}\n\t\t, fnPage(n) {//페이징 이\n\t\t\tif(this.page != n) {\n\t\t\t\tthis.page = n;\n\t\t\t\tthis.fnGetList();\n\t\t\t}\n\t\t}\n\t}\n };\n </script>\n \n <style scoped>\n .searchWrap{border:1px solid #888; border-radius:5px; text-align:center; padding:20px 0; margin-bottom:40px;}\n .searchWrap input{width:60%; height:36px; border-radius:3px; padding:0 10px; border:1px solid #888;}\n .searchWrap .btnSearch{display:inline-block; margin-left:10px;}\n .tbList th{border-top:1px solid #888;}\n .tbList th, .tbList td{border-bottom:1px solid #eee; padding:5px 0;}\n .tbList td.txt_left{text-align:left;}\n .btnRightWrap{text-align:right; margin:10px 0 0 0;}\n\n .pagination{margin:20px 0 0 0; text-align:center;}\n .first, .prev, .next, .last{border:1px solid #666; margin:0 5px;}\n .pagination span{display:inline-block; padding:0 5px; color:#333;}\n .pagination a{text-decoration:none; display:inline-blcok; padding:0 5px; color:#666;}\n</style>"]},"metadata":{},"sourceType":"module"}