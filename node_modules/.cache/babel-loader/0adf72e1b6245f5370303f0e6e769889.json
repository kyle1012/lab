{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"ui icon input\",\n  style: {\n    \"width\": \"100%\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"w3-table-all\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"분류\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"구분\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"기안자\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"부서\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"기안일\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"기안번호\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"미리보기\")])], -1 /* HOISTED */);\nconst _hoisted_5 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_text_field = _resolveComponent(\"v-text-field\");\n  const _component_v_icon = _resolveComponent(\"v-icon\");\n  const _component_v_pagination = _resolveComponent(\"v-pagination\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_v_text_field, {\n    label: \"Search Data...\",\n    modelValue: $data.search,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.search = $event)\n  }, null, 8 /* PROPS */, [\"modelValue\"]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"w3-button w3-round w3-blue-gray\",\n    style: {\n      \"float\": \"right\"\n    },\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.fnUpdate && _ctx.fnUpdate(...args))\n  }, \"상세검색\"), _hoisted_1]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"table\", _hoisted_3, [_hoisted_4, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.callist, (row, idx) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: idx\n    }, [_createElementVNode(\"td\", null, [_createElementVNode(\"a\", {\n      onClick: $event => $options.fnView(row)\n    }, _toDisplayString(row[1]), 9 /* TEXT, PROPS */, _hoisted_5)]), _createElementVNode(\"td\", null, _toDisplayString(row[3]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[5]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[9]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[20]), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row[19]), 1 /* TEXT */), _createElementVNode(\"td\", null, [_createVNode(_component_v_icon, {\n      large: \"\",\n      onClick: $event => $options.preview(row),\n      color: \"orange darken-2\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\" mdi-arrow-up-bold-box-outline \")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createVNode(_component_v_pagination, {\n    modelValue: $data.curPageNum,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.curPageNum = $event),\n    length: $options.numOfPages\n  }, null, 8 /* PROPS */, [\"modelValue\", \"length\"])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"mappings":";gCAM+HA,oBAAK;;EAE7HC,KAAK,EAAC,eAAe;EAACC,KAAmB,EAAnB;IAAA;EAAA;;;EAClBD,KAAK,EAAC;AAAc;gCACzBD,oBAUQ,6BATRA,oBAQK,0BAPHA,oBAAW,YAAP,IAAE,gBACNA,oBAAW,YAAP,IAAE,gBACNA,oBAAY,YAAR,KAAG,gBACPA,oBAAW,YAAP,IAAE,gBACNA,oBAAY,YAAR,KAAG,gBACPA,oBAAa,YAAT,MAAI,gBACRA,oBAAa,YAAT,MAAI;;;;;;6DAjBVG,aAGeC;IAHDC,KAAK,EAAC,gBAAgB;gBACbC,YAAM;+DAANA,YAAM;2CAG7BN,oBAEM,cADJA,oBAAuH;IAA/GO,IAAI,EAAC,QAAQ;IAACN,KAAK,EAAC,iCAAiC;IAACC,KAAqB,EAArB;MAAA;IAAA,CAAqB;IAAMM,OAAK,yCAAEC,uCAAQ;KAAE,MAAI,GAASC,UAAK,IAElIV,oBAmCM,OAnCNW,UAmCM,GAlCJX,oBA6BQ,SA7BRY,UA6BQ,GA5BNC,UAUQ,EACRb,oBAgBQ,mCAfRc,oBAcOC,6BAdkBC,gBAAO,GAApBC,GAAG,EAAEC,GAAG;yBAApBJ,oBAcO;MAd4BK,GAAG,EAAED;IAAG,IACvClB,oBAAiD,aAA7CA,oBAAwC;MAApCQ,OAAK,YAAEQ,eAAM,CAACC,GAAG;wBAAMA,GAAG,0CAClCjB,oBAAqB,6BAAdiB,GAAG,qBACVjB,oBAAqB,6BAAdiB,GAAG,qBACVjB,oBAAqB,6BAAdiB,GAAG,qBACVjB,oBAAsB,6BAAfiB,GAAG,sBACVjB,oBAAsB,6BAAfiB,GAAG,sBACVjB,oBAMQ,aANAG,aAMLiB;MALPC,KAAK,EAAL,EAAK;MACJb,OAAK,YAAEQ,gBAAO,CAACC,GAAG;MACnBK,KAAK,EAAC;;wBACP,MAED,kBAFC,iCAED;;;sCAIAnB,aAGiBoB;gBAFJjB,gBAAU;+DAAVA,gBAAU;IAClBkB,MAAM,EAAER","names":["_createElementVNode","class","style","_createVNode","_component_v_text_field","label","$data","type","onClick","_ctx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_createElementBlock","_Fragment","$options","row","idx","key","_component_v_icon","large","color","_component_v_pagination","length"],"sourceRoot":"","sources":["/lab/src/components/BoardList.vue"],"sourcesContent":["<template>\n      <v-text-field label=\"Search Data...\"\n                    v-model=\"search\"\n                    >\n      </v-text-field>\n      <div>\n        <button type=\"button\" class=\"w3-button w3-round w3-blue-gray\" style=\"float: right;\" v-on:click=\"fnUpdate\">상세검색</button><br/>\n      </div>\n  <div class=\"ui icon input\" style=\"width: 100%\">\n    <table class=\"w3-table-all\">\n      <thead>\n      <tr>  \n        <th>분류</th>\n        <th>구분</th>\n        <th>기안자</th>\n        <th>부서</th>\n        <th>기안일</th>\n        <th>기안번호</th>\n        <th>미리보기</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(row, idx) in callist\" :key=\"idx\">\n          <td><a @click=\"fnView(row)\">{{ row[1] }}</a></td>\n          <td>{{ row[3] }}</td>\n          <td>{{ row[5] }}</td>\n          <td>{{ row[9] }}</td>\n          <td>{{ row[20] }}</td>\n          <td>{{ row[19] }}</td>\n          <td>    <v-icon\n      large\n      @click=\"preview(row)\"\n      color=\"orange darken-2\"\n    >\n      mdi-arrow-up-bold-box-outline\n    </v-icon></td>\n        </tr>\n      </tbody>\n    </table>\n    <v-pagination\n        v-model=\"curPageNum\"\n        :length=\"numOfPages\">\n      </v-pagination>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\n\nexport default {\n  components: {\n  },\n  data() { //변수생성\n    return {\n      list: {}, //리스트 데이터\n      no: '', //게시판 숫자처리\n      listData: [],\n      searchData: [],\n      dataPerPage: 10,\n      curPageNum: 1,\n      search: '',\n    }\n  },\n  mounted() {\n  this.fnGetList()\n},\n  methods: {\n      fnGetList() {\n      axios.get(\"http://10.1.30.202:5000/board\")\n      .then((res) => {      \n        this.list = res.data\n        this.listData = res.data\n        console.log(res.data)\n\n\n      }).catch((err) => {\n        if (err.message.indexOf('Network Error') > -1) {\n          alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.')\n        }\n      })\n    },\n    fnView(index) {\n          if(index[1] == \"IP신청서\"){\n\n          this.$router.push({\n          path: './BoardDetail',\n          query: index\n    })\n}\n      else if(index[1] == \"인터넷차단해제신청서\"){\n          this.$router.push({\n          path: './BoardDetail_int',\n          query: index\n    })\n      }\n      else if(index[1] == \"방화벽정책신청서\"){\n          this.$router.push({\n          path: './BoardDetail_firewall',\n          query: index\n    })\n      }\n      else if(index[1] == \"계정신청서\"){\n          this.$router.push({\n          path: './BoardDetail_account',\n          query: index\n    })\n      }\n  },\n   preview(index){\n          if(index[1] == \"IP신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n          }\n      else if(index[1] == \"인터넷차단해제신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n      else if(index[1] == \"방화벽정책신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n      else if(index[1] == \"계정신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n\n   }\n\n  },\n  computed:{\n    startOffset() {\n        return ((this.curPageNum - 1) * this.dataPerPage);\n      },\n      endOffset() {\n        return (this.startOffset + this.dataPerPage);\n      },\n      numOfPages() {\n        return Math.ceil(this.searchData.length / this.dataPerPage);\n      },\n      callist(){\n        const searchWord = this.search.toLowerCase();\n\nthis.searchData = this.listData.filter((data) => {\n  let flag = false;\n  \n    data.forEach((data2) => {\n        if (data2 && data2.toString().toLowerCase().includes(searchWord)) {\n      flag = true;\n    }\n    });\n\n    return flag;\n}).slice(0);\nreturn this.searchData.slice(this.startOffset, this.endOffset);\n      }\n    }\n  }\n</script>\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}