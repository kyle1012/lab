{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  components: {},\n  data() {\n    //변수생성\n    return {\n      list: {},\n      //리스트 데이터\n      no: '',\n      //게시판 숫자처리\n      listData: [],\n      searchData: [],\n      dataPerPage: 10,\n      curPageNum: 1,\n      search: ''\n    };\n  },\n  mounted() {\n    this.fnGetList();\n  },\n  methods: {\n    fnGetList() {\n      axios.get(\"http://10.1.30.202:5000/board\").then(res => {\n        this.list = res.data;\n        this.listData = res.data;\n        console.log(res.data);\n      }).catch(err => {\n        if (err.message.indexOf('Network Error') > -1) {\n          alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.');\n        }\n      });\n    },\n    fnView(index) {\n      if (index[1] == \"IP신청서\") {\n        this.$router.push({\n          path: './BoardDetail',\n          query: index\n        });\n      } else if (index[1] == \"인터넷차단해제신청서\") {\n        this.$router.push({\n          path: './BoardDetail_int',\n          query: index\n        });\n      } else if (index[1] == \"방화벽정책신청서\") {\n        this.$router.push({\n          path: './BoardDetail_firewall',\n          query: index\n        });\n      } else if (index[1] == \"계정신청서\") {\n        this.$router.push({\n          path: './BoardDetail_account',\n          query: index\n        });\n      }\n    },\n    preview(index) {\n      if (index[1] == \"IP신청서\") {\n        var ip_file_path = index[22];\n        var ip_file_name = ip_file_path.substr(11);\n        window.open(ip_file_name, '_blank');\n      } else if (index[1] == \"인터넷차단해제신청서\") {\n        var ip_file_path = index[22];\n        var ip_file_name = ip_file_path.substr(11);\n        window.open(ip_file_name, '_blank');\n      } else if (index[1] == \"방화벽정책신청서\") {\n        var ip_file_path = index[22];\n        var ip_file_name = ip_file_path.substr(11);\n        window.open(ip_file_name, '_blank');\n      } else if (index[1] == \"계정신청서\") {\n        var ip_file_path = index[22];\n        var ip_file_name = ip_file_path.substr(11);\n        window.open(ip_file_name, '_blank');\n      }\n    }\n  },\n  computed: {\n    startOffset() {\n      return (this.curPageNum - 1) * this.dataPerPage;\n    },\n    endOffset() {\n      return this.startOffset + this.dataPerPage;\n    },\n    numOfPages() {\n      return Math.ceil(this.searchData.length / this.dataPerPage);\n    },\n    callist() {\n      const searchWord = this.search.toLowerCase();\n      this.searchData = this.listData.filter(data => {\n        let flag = false;\n        data.forEach(data2 => {\n          if (data2 && data2.toString().toLowerCase().includes(searchWord)) {\n            flag = true;\n          }\n        });\n        return flag;\n      }).slice(0);\n      return this.searchData.slice(this.startOffset, this.endOffset);\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","components","data","list","no","listData","searchData","dataPerPage","curPageNum","search","mounted","fnGetList","methods","get","then","res","console","log","catch","err","message","indexOf","alert","fnView","index","$router","push","path","query","preview","ip_file_path","ip_file_name","substr","window","open","computed","startOffset","endOffset","numOfPages","Math","ceil","length","callist","searchWord","toLowerCase","filter","flag","forEach","data2","toString","includes","slice"],"sourceRoot":"","sources":["/lab/src/components/BoardList.vue"],"sourcesContent":["<template>\n      <v-text-field label=\"Search Data...\"\n                    v-model=\"search\"\n                    >\n      </v-text-field>\n      <div>\n        <button type=\"button\" class=\"w3-button w3-round w3-blue-gray\" style=\"float: right;\" v-on:click=\"fnUpdate\">상세검색</button><br>\n      </div>\n  <div class=\"ui icon input\" style=\"width: 100%\">\n    <table class=\"w3-table-all\">\n      <thead>\n      <tr>  \n        <th>분류</th>\n        <th>구분</th>\n        <th>기안자</th>\n        <th>부서</th>\n        <th>기안일</th>\n        <th>기안번호</th>\n        <th>미리보기</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(row, idx) in callist\" :key=\"idx\">\n          <td><a @click=\"fnView(row)\">{{ row[1] }}</a></td>\n          <td>{{ row[3] }}</td>\n          <td>{{ row[5] }}</td>\n          <td>{{ row[9] }}</td>\n          <td>{{ row[20] }}</td>\n          <td>{{ row[19] }}</td>\n          <td>    <v-icon\n      large\n      @click=\"preview(row)\"\n      color=\"orange darken-2\"\n    >\n      mdi-arrow-up-bold-box-outline\n    </v-icon></td>\n        </tr>\n      </tbody>\n    </table>\n    <v-pagination\n        v-model=\"curPageNum\"\n        :length=\"numOfPages\">\n      </v-pagination>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\n\nexport default {\n  components: {\n  },\n  data() { //변수생성\n    return {\n      list: {}, //리스트 데이터\n      no: '', //게시판 숫자처리\n      listData: [],\n      searchData: [],\n      dataPerPage: 10,\n      curPageNum: 1,\n      search: '',\n    }\n  },\n  mounted() {\n  this.fnGetList()\n},\n  methods: {\n      fnGetList() {\n      axios.get(\"http://10.1.30.202:5000/board\")\n      .then((res) => {      \n        this.list = res.data\n        this.listData = res.data\n        console.log(res.data)\n\n\n      }).catch((err) => {\n        if (err.message.indexOf('Network Error') > -1) {\n          alert('네트워크가 원활하지 않습니다.\\n잠시 후 다시 시도해주세요.')\n        }\n      })\n    },\n    fnView(index) {\n          if(index[1] == \"IP신청서\"){\n\n          this.$router.push({\n          path: './BoardDetail',\n          query: index\n    })\n}\n      else if(index[1] == \"인터넷차단해제신청서\"){\n          this.$router.push({\n          path: './BoardDetail_int',\n          query: index\n    })\n      }\n      else if(index[1] == \"방화벽정책신청서\"){\n          this.$router.push({\n          path: './BoardDetail_firewall',\n          query: index\n    })\n      }\n      else if(index[1] == \"계정신청서\"){\n          this.$router.push({\n          path: './BoardDetail_account',\n          query: index\n    })\n      }\n  },\n   preview(index){\n          if(index[1] == \"IP신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n          }\n      else if(index[1] == \"인터넷차단해제신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n      else if(index[1] == \"방화벽정책신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n      else if(index[1] == \"계정신청서\"){\n            var ip_file_path = index[22]\n            var ip_file_name = ip_file_path.substr(11)\n            window.open(ip_file_name, '_blank')\n      }\n\n   }\n\n  },\n  computed:{\n    startOffset() {\n        return ((this.curPageNum - 1) * this.dataPerPage);\n      },\n      endOffset() {\n        return (this.startOffset + this.dataPerPage);\n      },\n      numOfPages() {\n        return Math.ceil(this.searchData.length / this.dataPerPage);\n      },\n      callist(){\n        const searchWord = this.search.toLowerCase();\n\nthis.searchData = this.listData.filter((data) => {\n  let flag = false;\n  \n    data.forEach((data2) => {\n        if (data2 && data2.toString().toLowerCase().includes(searchWord)) {\n      flag = true;\n    }\n    });\n\n    return flag;\n}).slice(0);\nreturn this.searchData.slice(this.startOffset, this.endOffset);\n      }\n    }\n  }\n</script>\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}