{"ast":null,"code":"import DragDropPlugin from '@uppy/drag-drop';\nimport { shallowEqualObjects } from 'shallow-equal'; // Cross compatibility dependencies\n\nimport * as Vue from 'vue';\nimport { isVue2 } from './utils.js';\nexport default {\n  data() {\n    return {\n      plugin: {}\n    };\n  },\n  props: {\n    uppy: {\n      required: true\n    },\n    props: {\n      type: Object\n    }\n  },\n  mounted() {\n    this.installPlugin();\n  },\n  methods: {\n    installPlugin() {\n      const {\n        uppy\n      } = this;\n      const options = {\n        id: 'vue:DragDrop',\n        ...this.props,\n        target: this.$refs.container\n      };\n      uppy.use(DragDropPlugin, options);\n      this.plugin = uppy.getPlugin(options.id);\n    },\n    uninstallPlugin(uppy) {\n      uppy.removePlugin(this.plugin);\n    }\n  },\n  beforeDestroy() {\n    this.uninstallPlugin(this.uppy);\n  },\n  beforeUnmount() {\n    this.uninstallPlugin(this.uppy);\n  },\n  watch: {\n    uppy(current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old);\n        this.installPlugin();\n      }\n    },\n    props(current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({\n          ...current\n        });\n      }\n    }\n  },\n  render() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args;\n      return createElement('div', {\n        ref: 'container'\n      });\n    } // Otherwise, we import the `h` function from the Vue package (in Vue 3 fashion)\n\n    return Vue.h('div', {\n      ref: 'container'\n    });\n  }\n};","map":{"version":3,"names":["DragDropPlugin","shallowEqualObjects","Vue","isVue2","data","plugin","props","uppy","required","type","Object","mounted","installPlugin","methods","options","id","target","$refs","container","use","getPlugin","uninstallPlugin","removePlugin","beforeDestroy","beforeUnmount","watch","current","old","setOptions","render","_len","arguments","length","args","Array","_key","createElement","ref","h"],"sources":["/lab/node_modules/@uppy/vue/lib/drag-drop.js"],"sourcesContent":["import DragDropPlugin from '@uppy/drag-drop';\nimport { shallowEqualObjects } from 'shallow-equal'; // Cross compatibility dependencies\n\nimport * as Vue from 'vue';\nimport { isVue2 } from './utils.js';\nexport default {\n  data() {\n    return {\n      plugin: {}\n    };\n  },\n\n  props: {\n    uppy: {\n      required: true\n    },\n    props: {\n      type: Object\n    }\n  },\n\n  mounted() {\n    this.installPlugin();\n  },\n\n  methods: {\n    installPlugin() {\n      const {\n        uppy\n      } = this;\n      const options = {\n        id: 'vue:DragDrop',\n        ...this.props,\n        target: this.$refs.container\n      };\n      uppy.use(DragDropPlugin, options);\n      this.plugin = uppy.getPlugin(options.id);\n    },\n\n    uninstallPlugin(uppy) {\n      uppy.removePlugin(this.plugin);\n    }\n\n  },\n\n  beforeDestroy() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  beforeUnmount() {\n    this.uninstallPlugin(this.uppy);\n  },\n\n  watch: {\n    uppy(current, old) {\n      if (old !== current) {\n        this.uninstallPlugin(old);\n        this.installPlugin();\n      }\n    },\n\n    props(current, old) {\n      if (!shallowEqualObjects(current, old)) {\n        this.plugin.setOptions({ ...current\n        });\n      }\n    }\n\n  },\n\n  render() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // Hack to allow support for Vue 2 and 3\n    if (isVue2(...args)) {\n      // If it's first argument is a function, then it's a Vue 2 App\n      const [createElement] = args;\n      return createElement('div', {\n        ref: 'container'\n      });\n    } // Otherwise, we import the `h` function from the Vue package (in Vue 3 fashion)\n\n\n    return Vue.h('div', {\n      ref: 'container'\n    });\n  }\n\n};"],"mappings":"AAAA,OAAOA,cAAc,MAAM,iBAAiB;AAC5C,SAASC,mBAAmB,QAAQ,eAAe,CAAC,CAAC;;AAErD,OAAO,KAAKC,GAAG,MAAM,KAAK;AAC1B,SAASC,MAAM,QAAQ,YAAY;AACnC,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,MAAM,EAAE,CAAC;IACX,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACLC,IAAI,EAAE;MACJC,QAAQ,EAAE;IACZ,CAAC;IACDF,KAAK,EAAE;MACLG,IAAI,EAAEC;IACR;EACF,CAAC;EAEDC,OAAO,GAAG;IACR,IAAI,CAACC,aAAa,EAAE;EACtB,CAAC;EAEDC,OAAO,EAAE;IACPD,aAAa,GAAG;MACd,MAAM;QACJL;MACF,CAAC,GAAG,IAAI;MACR,MAAMO,OAAO,GAAG;QACdC,EAAE,EAAE,cAAc;QAClB,GAAG,IAAI,CAACT,KAAK;QACbU,MAAM,EAAE,IAAI,CAACC,KAAK,CAACC;MACrB,CAAC;MACDX,IAAI,CAACY,GAAG,CAACnB,cAAc,EAAEc,OAAO,CAAC;MACjC,IAAI,CAACT,MAAM,GAAGE,IAAI,CAACa,SAAS,CAACN,OAAO,CAACC,EAAE,CAAC;IAC1C,CAAC;IAEDM,eAAe,CAACd,IAAI,EAAE;MACpBA,IAAI,CAACe,YAAY,CAAC,IAAI,CAACjB,MAAM,CAAC;IAChC;EAEF,CAAC;EAEDkB,aAAa,GAAG;IACd,IAAI,CAACF,eAAe,CAAC,IAAI,CAACd,IAAI,CAAC;EACjC,CAAC;EAEDiB,aAAa,GAAG;IACd,IAAI,CAACH,eAAe,CAAC,IAAI,CAACd,IAAI,CAAC;EACjC,CAAC;EAEDkB,KAAK,EAAE;IACLlB,IAAI,CAACmB,OAAO,EAAEC,GAAG,EAAE;MACjB,IAAIA,GAAG,KAAKD,OAAO,EAAE;QACnB,IAAI,CAACL,eAAe,CAACM,GAAG,CAAC;QACzB,IAAI,CAACf,aAAa,EAAE;MACtB;IACF,CAAC;IAEDN,KAAK,CAACoB,OAAO,EAAEC,GAAG,EAAE;MAClB,IAAI,CAAC1B,mBAAmB,CAACyB,OAAO,EAAEC,GAAG,CAAC,EAAE;QACtC,IAAI,CAACtB,MAAM,CAACuB,UAAU,CAAC;UAAE,GAAGF;QAC5B,CAAC,CAAC;MACJ;IACF;EAEF,CAAC;EAEDG,MAAM,GAAG;IACP,KAAK,IAAIC,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;MACvFF,IAAI,CAACE,IAAI,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;IAC9B;;IAEA;IACA,IAAIhC,MAAM,CAAC,GAAG8B,IAAI,CAAC,EAAE;MACnB;MACA,MAAM,CAACG,aAAa,CAAC,GAAGH,IAAI;MAC5B,OAAOG,aAAa,CAAC,KAAK,EAAE;QAC1BC,GAAG,EAAE;MACP,CAAC,CAAC;IACJ,CAAC,CAAC;;IAGF,OAAOnC,GAAG,CAACoC,CAAC,CAAC,KAAK,EAAE;MAClBD,GAAG,EAAE;IACP,CAAC,CAAC;EACJ;AAEF,CAAC"},"metadata":{},"sourceType":"module"}